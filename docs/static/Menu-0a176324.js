import{s as F,a7 as se,D as T,a as L,b as O,d as D,a8 as q,e as j,B as y,a9 as ce,aa as d,ab as me,ac as de,x as f,ad as ue,ae as P,af as pe,F as ge,ag as he,ah as Ee,ai as fe,t as A,n as xe,C as be,aj as Ce,ak as J,al as W,am as Se,an as ke,ao as N,_ as we,ap as ve,o as g,aq as ye,S as Me,J as Q,j as z,Q as Re,ar as Ie,as as _e}from"./@mui-d7cd678e.js";import{i as B,g as ze,a as Te,m as Y,e as Be,n as Ae,b as _,I as U,c as $,s as $e,d as Pe,f as We,h as H,j as I,k as Fe,l as Le,C as Oe,o as De,p as je,u as Ve}from"./index-510adeb6.js";import{o as G}from"./mobx-react-1c6baff6.js";import"./react-2b221fbb.js";import"./@babel-f8d566ba.js";import"./clsx-0839fdbe.js";import"./@emotion-d13e5fae.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./stylis-79144faa.js";import"./react-is-e5978b8b.js";import"./react-transition-group-bc100b23.js";import"./@popperjs-61ffd834.js";import"./prop-types-7395632d.js";import"./react-dom-d3bdc6a0.js";import"./bigonion-kit-f58b431d.js";import"./@monaco-editor-863e66c9.js";import"./state-local-dd516420.js";import"./react-resizable-8f73e4ed.js";import"./react-draggable-b033082a.js";import"./mobx-3741033e.js";import"./mobx-react-lite-1ad052b5.js";import"./use-sync-external-store-b84fba6b.js";const Ne=window.React,V=F(e=>Ne.createElement(se,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e}))(({theme:e})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],"& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:20,color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],marginRight:e.spacing(1.5)}}}})),Ue=(await B("https://cdn.jsdmirror.com/npm/axios@1.6.5/+esm")).default;function He(e,l,x){for(var s=document.getElementById("view-area"),o=window.getComputedStyle(s),p=0;p<o.length;p++){var u=o[p];o.getPropertyValue(u)}Ue({url:e,method:l,data:x,headers:{"Content-Type":"application/json"}}).then(S=>{console.log(S)})}const m=window.React,X=(await B("https://cdn.jsdmirror.com/npm/@arco-design/web-react@2.62.0/+esm")).Notification;function Xe(e){let l=m.useRef(),[x,s]=m.useState(!1),o=u=>{s(()=>!1),e.onClick(u)},p=u=>{let C=l.current.value;He("https://service-g12i7wh1-1321514649.sh.apigw.tencentcs.com/release/mail","post",{to:C,subject:"Mailed from Markdown Online+",html:`<div class="markdown-body">${ze()}</div>`,raw:0}),o(u),X.success({title:"邮件发送成功！",content:"Beta版本,请勿重复尝试",position:"topRight"}),X.info({title:"请注意,邮件发送暂时不能完全支持mermaid和Latex",content:"Beta版本,请勿重复尝试",position:"topRight"}),e.closAll()};return m.createElement(m.Fragment,null,m.createElement(T,{fullWidth:!0,maxWidth:"sm",open:x,onClose:o},m.createElement(L,null,"神奇邮箱"),m.createElement(O,null,m.createElement(D,null,"请输入你要发送到的邮箱",m.createElement("br",null)),m.createElement(q,{inputRef:l,autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard"})),m.createElement(j,null,m.createElement(y,{onClick:o},"取消"),m.createElement(y,{onClick:p},"发送"))),m.createElement(ce,null),"分享(开发中)",m.createElement(V,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:e.onClick},m.createElement(d,{onClick:u=>{u.stopPropagation(),s(!0)},disabled:!0,disableRipple:!0},m.createElement(me,null),"邮箱分享")))}const qe=(await B("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default;function Je(){let e=Te()??"";qe.sleep(250).then(()=>{var l=document.createElement("a");l.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),l.download="text.md",l.click()})}const t=window.React;function Qe(e){let l=e.closeExportMenu;e.closeMenu;let[x,s]=t.useState(!1),o=i=>{console.log(i),l(i),s(()=>!1)},p=t.useRef();const[u,C]=t.useState(3),S=i=>{i.stopPropagation(),C(i.target.value)};let M=i=>{o(i);let c=p.current.value;Be(u??4,c??"md_snapshot.png"),e.closeMenu(i),Ae("导出成功！","Beta版本",{kind:"info",position:"topRight"})};return t.createElement(t.Fragment,null,t.createElement(T,{className:"avoid",onClose:o,open:x,fullWidth:!0,maxWidth:"sm"},t.createElement("div",{onClick:i=>{i.stopPropagation()}},t.createElement(L,null,"导出设置"),t.createElement(O,null,t.createElement(D,null,"请选择图片清晰度"),t.createElement("br",null),t.createElement(de,{fullWidth:!0},t.createElement(f,null,t.createElement(ue,{id:"demo-simple-select-label"},"图片清晰度"),t.createElement(P,{label:"图片清晰度",defaultValue:"4",defaultChecked:!0,fullWidth:!0,onChange:S},t.createElement(d,{value:"1"},"1 (比较模糊,体积轻巧)"),t.createElement(d,{value:"2"},"2 (有些模糊)"),t.createElement(d,{value:"4"},"3 (默认,适中,推荐)"),t.createElement(d,{value:"6"},"4 (比较清晰,体积稍大)"),t.createElement(d,{value:"10"},"5 (超鸡无敌霹雳霸清晰,体积较大)"))),t.createElement(f,{marginX:"8px"},t.createElement(q,{inputRef:p,margin:"dense",id:"export_img_name",defaultValue:"md_snapshot.png",label:"导出的文件名",type:"text",fullWidth:!0,variant:"standard",placeholder:"md_snapshot.png"})))),t.createElement(j,null,t.createElement(y,{onClick:o},"取消"),t.createElement(y,{onClick:M},"确认导出")))),t.createElement(pe,null),"导出",t.createElement(V,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:i=>{l(i)}},t.createElement(d,{onClick:()=>{Y()},disableRipple:!0},t.createElement(ge,null),"导出为PDF"),t.createElement(d,{onClick:i=>{s(!0),l(i)},disableRipple:!0},t.createElement(he,null),"导出为图片(Beta1.0)"),t.createElement(d,{onClick:()=>{Je()},disableRipple:!0},t.createElement(Ee,null),"导出为Markdown")))}const E=window.React;function Ye(e){return E.createElement(be,{...e})}const Ge=F(fe)(({theme:e})=>({color:e.palette.mode==="light"?e.palette.grey[800]:e.palette.grey[200],[`& .${A.content}`]:{borderRadius:e.spacing(.5),padding:e.spacing(.5,1),margin:e.spacing(.2,0),[`& .${A.label}`]:{fontSize:"0.89rem",fontWeight:500}},[`& .${A.iconContainer}`]:{borderRadius:"80%",backgroundColor:e.palette.mode==="light"?xe(e.palette.primary.main,.45):e.palette.primary.dark,color:e.palette.mode==="dark"&&e.palette.primary.contrastText,padding:e.spacing(0,1.2)}})),v=E.forwardRef((e,l)=>E.createElement(Ge,{...e,slots:{groupTransition:Ye,...e.slots},ref:l}));function Ke(){return E.createElement(E.Fragment,null,E.createElement(f,{className:"transparent-scrollbar",sx:{overflow:"scroll",flex:"0 0 30%",minHeight:20,overflowX:"hidden",borderRight:"solid rgba(0, 0, 0, 0.12)"}},E.createElement(Ce,{"aria-label":"customized",defaultExpandedItems:["1_x"],slots:{endIcon:J},sx:{userSelect:"none",minHeight:270,maxWidth:300}},E.createElement(v,{slots:{endIcon:W},onClick:()=>{document.getElementById("settings_1_x").scrollIntoView()},itemId:"1_x",label:"基础设置"},E.createElement(v,{slots:{endIcon:Se},onClick:()=>{document.getElementById("settings_1_1").scrollIntoView()},itemId:"1_2",label:"主题设置"}),E.createElement(v,{slots:{endIcon:W},onClick:()=>{document.getElementById("settings_1_2").scrollIntoView()},itemId:"1_3",label:"编辑器设置"})),E.createElement(v,{itemId:"2_x",label:"高级设置"},E.createElement(v,{itemId:"2_2",label:"导出设置"}),E.createElement(v,{itemId:"2_3",label:"Mermaid设置"})))))}const w=window.React;function Ze(e){e.preventDefault()}function et(){return w.createElement(f,{sx:{marginBottom:"5px"},role:"presentation",onClick:Ze},w.createElement(ke,{"aria-label":"breadcrumb"},w.createElement(N,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/"},w.createElement(we,{sx:{mr:.5},fontSize:"inherit"}),"MUI"),w.createElement(N,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/material-ui/getting-started/installation/"},w.createElement(ve,{sx:{mr:.5},fontSize:"inherit"}),"Basic"),w.createElement(g,{sx:{display:"flex",alignItems:"center"},color:"text.primary"},w.createElement(ye,{sx:{mr:.5},fontSize:"inherit"}),"Theme")))}let tt=F(Me)(({theme:e})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:e.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));const a=window.React,at=(await B("https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default,nt=G(function(){const l=_(),x=Q(),s={transition:"0.3s",position:"relative",padding:"5px",borderRadius:"3px",display:"flex",flexDirection:"column",mt:"10px",mb:"5px",ml:"0px",pl:"25px","&::before":{content:'""',position:"absolute",left:0,top:0,height:"100%",width:4,backgroundColor:"transparent",transition:"background-color 0.3s"},"&:hover::before":{backgroundColor:l==="light"?"#840084":"#d2d2d2"},"&:hover":{backgroundColor:l==="light"?"#E7E6E5":""}},o={color:x.palette.info.contrastText??"#8B8A8A",fontSize:"0.79rem",fontWeight:500,mb:"5px"},[p,u]=a.useState(!1);function C(c,b){const R=document.querySelector(".markdown-body");b?(H("dark"),u(c.target.checked),console.log(R.style.cssText),R.style.cssText=""):(H("light"),u(c.target.checked),console.log(R.style.cssText))}function S(c,b){b?I({basic:{syncScroll:!0}}):I({basic:{syncScroll:!1}})}function M(c){I({basic:{speechLanguage:c.target.value}})}function i(c){I({advanced:{mermaidTheme:c.target.value}}),at.init({theme:c.target.value}),Fe()}return a.useEffect(()=>{u(_()==="dark")},[_()]),a.createElement(a.Fragment,null,a.createElement(f,{className:"transparent-scrollbar",sx:{width:"100%",padding:"1rem",display:"flex",flexDirection:"column",fontSize:"0.89rem",maxHight:"200px",overflowY:"scroll"}},a.createElement(g,{id:"settings_1_x",sx:{fontSize:"30px",fontWeight:"700"}},"基础设置"),a.createElement(z,null),a.createElement(f,{sx:s},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Theme"),a.createElement(g,{sx:o},"更改编辑器的主题"),a.createElement(tt,{checked:p,size:"small",inputProps:{"aria-label":"controlled"},onChange:C})),a.createElement(f,{sx:s},a.createElement(f,{className:"FLEX ROW"},a.createElement(g,{id:"settings_1_2",sx:{fontSize:"0.89rem",fontWeight:500}},"Synchronous Scrolling")),a.createElement(g,{sx:o},"同步滚动左边编辑区和预览区域。(开发中)"),a.createElement(U,{checked:$().basic.syncScroll,size:"small",inputProps:{"aria-label":"controlled"},onChange:S})),a.createElement(f,{sx:s},a.createElement(g,{sx:{fontSize:"0.89rem",fontWeight:500}},"Speech To Text"),a.createElement(g,{sx:o},"选择语音转文字的识别语言"),a.createElement(P,{value:$().basic.speechLanguage??"zh-CN",defaultChecked:!0,fullWidth:!0,size:"small",onChange:M},$e.map((c,b)=>a.createElement(d,{key:b,value:c[0]},c[1])))),a.createElement(g,{id:"settings_1_x",sx:{mt:"20px",fontSize:"30px",fontWeight:"700"}},"高级设置（施工中）"),a.createElement(z,null),a.createElement(f,{sx:s},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Export Settings"),a.createElement(g,{sx:o},"更改导出设置(施工中)"),a.createElement(U,{disabled:!0,size:"small",inputProps:{"aria-label":"controlled"}})),a.createElement(f,{sx:s},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Mermaid Theme Configs"),a.createElement(g,{sx:o},"Mermaid流程图主题"),a.createElement(P,{value:$().advanced.mermaidTheme??"default",defaultChecked:!0,fullWidth:!0,size:"small",color:"primary",onChange:i},Pe.map((c,b)=>a.createElement(d,{key:b,value:c},We[b]))))))}),h=window.React;function lt(e){Q().palette;const l=_();h.useRef();let[x,s]=h.useState(!1);h.useState("");let o=p=>{s(()=>!1),e.onClick(p),e.closeAll()};return h.useEffect(()=>{}),h.createElement(h.Fragment,null,h.createElement(T,{fullScreen:!1,maxWidth:!1,open:e.open,onClose:o,sx:{height:"100vh"}},h.createElement(f,{sx:{background:l==="light"?"#F8FAFB":"",padding:"1rem",height:"58vh",width:"60vw"}},h.createElement(et,null),h.createElement(z,{sx:{my:.5}}),h.createElement(f,{sx:{height:"48vh",display:"flex",background:l==="light"?"#F8FAFB":"",padding:"5px",flexDirection:"row",borderRradius:"50px",borderRadius:"5px"}},h.createElement(Ke,null),h.createElement(nt,null)))),h.createElement(J,null),"设置")}const n=window.React,Rt=G(()=>{const e=Ve(),[l,x]=n.useState(null),[s,o]=n.useState(null),[p,u]=n.useState(null),[C,S]=n.useState(null),[M,i]=n.useState(!1),c=!!l,b=!!s,R=!!p,K=!!C,Z=r=>{x(r.currentTarget)},ee=r=>{o(r.currentTarget),r.stopPropagation()},te=async r=>{await De()?(u(r.target),r.stopPropagation()):(r.stopPropagation(),k(),i(!0))},ae=r=>{S(r.currentTarget)},k=()=>{x(null)},ne=r=>{o(null),r.stopPropagation()},le=r=>{u(null),r.stopPropagation()},oe=r=>{S(null),r.stopPropagation()},re=()=>{e.display(),k()},ie=()=>{je(!0),k()};return n.createElement("div",null,n.createElement(T,{open:M,onClose:()=>{i(!1)}},n.createElement(L,null,n.createElement(g,{variant:"h6",gutterBottom:!0},"确定导出吗，你还没有保存呢！")),n.createElement(O,null,n.createElement(D,null,n.createElement(g,{variant:"body1",gutterBottom:!0},'Once you have clicked the "yes" button, your text will be saved.'))),n.createElement(j,null,n.createElement(y,{onClick:()=>{i(!1),Le(),Y()}},"是嘟"),n.createElement(y,{onClick:()=>{i(!1)},autoFocus:!0},"达咩"))),n.createElement(Oe,{open:c,endIcon:n.createElement(Re,null),onClick:Z},"更多"),n.createElement(V,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:l,open:c,onClose:k},n.createElement(d,{onClick:re,disableRipple:!0},n.createElement(W,null),"图片管理器"),n.createElement(d,{onClick:ie,disableRipple:!0},n.createElement(Ie,null),"文件管理器(实验性)"),n.createElement(d,{onClick:r=>{te(r)},disableRipple:!0},n.createElement(Qe,{anchorEl:p,open:R,closeMenu:k,closeExportMenu:le})),n.createElement(z,{sx:{my:.5}}),n.createElement(d,{onClick:r=>{ee(r)},disableRipple:!0},n.createElement(Xe,{closAll:k,anchorEl:s,open:b,onClick:ne})),n.createElement(d,{onClick:r=>{ae(r)},disableRipple:!0},n.createElement(lt,{closeAll:k,anchorEl:C,open:K,onClick:oe})),n.createElement(d,{onClick:()=>{k()},disableRipple:!0},n.createElement(_e,null),"更多(敬请期待)  ")))});export{Rt as default};
