import{c as client}from"./react-dom-d3bdc6a0.js";import{T as Tooltip,Z as Zoom,c as createTheme,p as purple,D as Dialog,a as DialogTitle,b as DialogContent,d as DialogContentText,e as DialogActions,B as Button,f as Drawer,g as ThemeProvider,I as IconButton,h as default_1,i as default_1$1,j as Divider,G as Grid,s as styled,k as grey,S as Switch,l as TreeItem2Root,t as treeItemClasses,m as TreeItem2Content,n as alpha,o as Typography,u as useTreeItem2,q as TreeItem2Provider,r as TreeItem2IconContainer,v as TreeItem2Icon,C as Collapse,w as TreeItem2Label,x as Box$1,y as default_1$2,z as default_1$3,A as default_1$4,E as default_1$5,F as default_1$6,H as default_1$7,R as RichTreeView,J as useTheme,K as CssBaseline,L as AppBar,M as Toolbar,N as default_1$8,O as default_1$9,P as default_1$a,Q as default_1$b,U as List,V as ListItem,W as ListItemButton,X as ListItemAvatar,Y as Avatar,_ as default_1$c,$ as ListItemText,a0 as default_1$d,a1 as default_1$e,a2 as debounce,a3 as Backdrop,a4 as CircularProgress,a5 as blue,a6 as green}from"./@mui-d7cd678e.js";import{o as observer}from"./mobx-react-1c6baff6.js";import{k as kit$6}from"./bigonion-kit-f58b431d.js";import{c as clsx}from"./clsx-0839fdbe.js";import{l as loader,F as Ft}from"./@monaco-editor-863e66c9.js";import{R as ResizableBox}from"./react-resizable-8f73e4ed.js";import"./react-2b221fbb.js";import"./@babel-f8d566ba.js";import"./@emotion-d13e5fae.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./stylis-79144faa.js";import"./react-is-e5978b8b.js";import"./react-transition-group-bc100b23.js";import"./@popperjs-61ffd834.js";import"./prop-types-7395632d.js";import"./mobx-3741033e.js";import"./mobx-react-lite-1ad052b5.js";import"./use-sync-external-store-b84fba6b.js";import"./state-local-dd516420.js";import"./react-draggable-b033082a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const scriptRel="modulepreload",assetsURL=function(e,t){return new URL(e,t).href},seen={},__vitePreload=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=assetsURL(a,i),a in seen)return;seen[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!i)for(let c=r.length-1;c>=0;c--){const m=r[c];if(m.href===a&&(!o||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":scriptRel,o||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),o)return new Promise((c,m)=>{d.addEventListener("load",c),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},cdnDomains=["cdn.jsdmirror.com","jsd.onmicrosoft.cn","fastly.jsdelivr.net","cdn.jsdelivr.net"];function cdnInit(){window._cdn={failed:[],index:0,cdn:cdnDomains}}async function importModule(e){if(e.length===0)throw new Error("A non-empty array of URLs must be provided.");let t=new URL(e);try{for(let n=0;n<=cdnDomains.length-1;n++){if(!window._cdn.failed.includes(cdnDomains[n]))return t.host=window._cdn.cdn[n],await __vitePreload(()=>import(t.toString()),[],import.meta.url);n===cdnDomains.length-1&&console.error("GG")}}catch{return window._cdn.failed.includes(t.host)||window._cdn.failed.push(t.host),importModule(t.toString())}throw new Error("Failed to load module from all provided URLs.")}function preInit(){cdnInit()}preInit();function insertTextMonacoAtCursor(e,t,n=window.editor,i=window.monaco){const r=window.editor,a=e,o=window.editor.getSelections()[0];r.executeEdits("img-insert",[{range:new window.monaco.Range(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn),text:a,forceMoveMarkers:t}])}function writeClipboard(e){navigator.clipboard.writeText(e).catch(t=>{console.error("Failed to copy text: ",t)})}const PhotoProvider=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.3/@cdn/lib/react-photo-view/react-photo-view.module.js")).PhotoProvider,PhotoView=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.3/@cdn/lib/react-photo-view/react-photo-view.module.js")).PhotoView,React$d=window.React,_MagicImg=React$d.forwardRef(MagicImg);function MagicImg(e,t){let n="FLEX JUS-CENTER ",i={width:"fitContent"};const[r,a]=React$d.useState(!1);function o(d){d.altKey&&writeClipboard(`![ÊàëÊòØÂõæÁâá](/vf/${e.uuid})`),d.ctrlKey&&insertTextMonacoAtCursor(`![ÊàëÊòØÂõæÁâá](/vf/${e.uuid})`,!0)}let[s,l]=React$d.useState({src:e.src,uuid:e.uuid,magic:e.magic!=0,className:n+(e.className??""),style:e.style?{...e.style,...i}:i});return React$d.createElement(React$d.Fragment,null,React$d.createElement("div",{...s,...e,ref:t,className:s.className,style:s.style},React$d.createElement(PhotoProvider,null,React$d.createElement(PhotoView,{triggers:["onDoubleClick"],src:s.src},React$d.createElement(Tooltip,{placement:"right",TransitionComponent:Zoom,arrow:!0,title:"Êåâ‰ΩèCtrlÁÇπÂáªÊèíÂÖ•"},React$d.createElement("img",{onMouseEnter:()=>{a(!0)},onMouseLeave:()=>{a(!1)},onClick:d=>{o(d)},style:{width:"70%",transition:" 0.2s ease-in-out",borderRadius:"5px",transform:r?"translate(0px, -2px)":"",boxShadow:r?"1vh 2vh 21px rgb(79 79 79)":"rgb(216 216 216) 1vh 2vh 21px"},src:s.src,alt:"error"}))))))}const observable$1=(await importModule("https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm")).observable,makeAutoObservable$1=(await importModule("https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm")).makeAutoObservable;class ImageStore{displayState=!1;constructor(t){makeAutoObservable$1(this,{displayState:observable$1}),this.displayState=t}display(){this.displayState=!0}hidden(){this.displayState=!1}}const imageStore=new ImageStore(!1),useImage=()=>imageStore,openDB=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.1/@cdn/functions/App/db.min.js")).openDB,cursorGetDataByIndex=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.1/@cdn/functions/App/db.min.js")).cursorGetDataByIndex,cursorGetData=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.1/@cdn/functions/App/db.min.js")).cursorGetData,updateDB=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.1/@cdn/functions/App/db.min.js")).updateDB;function fillInMemoryText(e){openDB("md_content",2).then(t=>{updateDB(t,"users_md",{uuid:1,contentText:e})})}async function readMemoryText(){return new Promise(e=>{openDB("md_content",2).then(t=>{cursorGetData(t,"users_md").then(n=>{e(n)})})})}function fillInMemoryImgs(e,t){openDB("md_content",2).then(n=>{for(let i=0;i<=e.length-1;i++){let r={uuid:t+i,imgBase64:e[i]};updateDB(n,"users_img",r)}})}async function readMemoryImg(e,t){return new Promise(n=>{openDB("md_content",2).then(i=>{cursorGetDataByIndex(i,"users_img",e,t).then(r=>{n(r)})})})}async function readAllMemoryImg(){return new Promise(e=>{openDB("md_content",2).then(t=>{cursorGetData(t,"users_img").then(n=>{e(n)})})})}const React$c=window.React;function LR(e){const t=React$c.Children.toArray(e.children).length;let n="LR ",i={display:"flex",flexDirection:"row",justifyContent:e.jus??"center",alignItems:e.ali??"center",width:"100%",height:"100%"},[r,a]=React$c.useState({style:e.style?{...e.style,...i}:i,className:n+(e.className??""),space:e.space??void 0,order:[]}),[o,s]=React$c.useState({marginRight:"5px",width:"100%",height:"100%"});return React$c.createElement(React$c.Fragment,null,React$c.createElement("div",{...r,...e,className:r.className,style:r.style},React$c.Children.map(e.children,(l,d)=>d==t-1?React$c.createElement("div",{style:{...o,flex:r.space?"auto":void 0}},l):React$c.createElement("div",{style:{...o,order:`${r.order[d]}`,flex:`0 0 ${r.space?r.space[d]:void 0}%`}},l))))}const React$b=window.React;function Box(e){let t="Box ",n={display:"flex",flexDirection:e.dir??"row",justifyContent:e.jus??"center",alignItems:e.ali??"center",width:e.min==1?"fitContent":"100%",height:e.min==1?"fitContent":"100%",transform:e.move?`translate(${e.move?.x??0}, ${e.move?.y??0})`:void 0},[i,r]=React$b.useState({style:e.style?{...e.style,...n}:n,className:t+(e.className??""),space:e.space??void 0,order:[]});return React$b.createElement(React$b.Fragment,null,React$b.createElement("div",{...i,...e,className:i.className,style:i.style},e.children))}function deleteDBAll(e){let t=window.indexedDB.deleteDatabase(e);t.onerror=function(n){console.log("Âà†Èô§Â§±Ë¥•")},t.onsuccess=function(n){console.log("Âà†Èô§ÊàêÂäü")}}const React$a=window.React,theme=createTheme({palette:{primary:{main:"#1976d2"},secondary:purple}}),TemporaryDrawer=observer(e=>{const t=useImage(),[n,i]=React$a.useState(!1),[r,a]=React$a.useState([]),[o,s]=React$a.useState(!1);function l(){s(!0)}return React$a.useEffect(()=>{readAllMemoryImg().then(d=>{a(d)})}),React$a.useEffect(()=>{i(t.displayState)},[t.displayState]),React$a.createElement(React$a.Fragment,null,React$a.createElement(Dialog,{open:o,onClose:()=>{s(!1)}},React$a.createElement(DialogTitle,{id:"alert-dialog-title"},"Ready to delete all the images?"),React$a.createElement(DialogContent,null,React$a.createElement(DialogContentText,{id:"alert-dialog-description"},'Once you have clicked the "yes" button, your pictures and your text will be deleted!')),React$a.createElement(DialogActions,null,React$a.createElement(Button,{onClick:()=>{s(!1),deleteDBAll("md_content"),window.location.reload()}},"YES"),React$a.createElement(Button,{onClick:()=>{s(!1)},autoFocus:!0},"NO"))),React$a.createElement(Drawer,{anchor:"bottom",open:n,elevation:16,onClose:()=>{t.hidden()}},React$a.createElement("div",{style:{height:"60svh"}},React$a.createElement("div",null,React$a.createElement(ThemeProvider,{theme},React$a.createElement(Box,null,React$a.createElement(LR,{space:[90]},React$a.createElement(Box,{min:1,move:{x:"5svw"}},React$a.createElement("p",null,"ÂõæÁâáÁÆ°ÁêÜÂô®"),React$a.createElement(Tooltip,{title:React$a.createElement("div",null,"ÁÆ°ÁêÜÁ≤òË¥¥‰∏ä‰º†ÁöÑÂõæÁâá",React$a.createElement("ul",{style:{margin:"2px"}},React$a.createElement("li",null,"Êåâ‰ΩèCtrlÁÇπÂáªÂõæÁâáÊèíÂÖ•"),React$a.createElement("li",null,"ÂèåÂáªÂõæÁâáÊîæÂ§ßÈ¢ÑËßà"),React$a.createElement("li",null,"Êåâ‰ΩèAltÁÇπÂáªÂõæÁâáÂ§çÂà∂ÂõæÁâá")))},React$a.createElement(IconButton,null,React$a.createElement(default_1,{color:"primary"})))),React$a.createElement(Box,null,React$a.createElement(Tooltip,{title:"Âà†Èô§ÂÖ®ÈÉ®ÂõæÁâáÂíåÂÇ®Â≠òÁöÑÊñáÂ≠ó"},React$a.createElement(IconButton,{onClick:l},React$a.createElement(default_1$1,{color:"primary"})))))))),React$a.createElement(Divider,{style:{marginBottom:"1.3svh"}}),React$a.createElement(Grid,{container:!0,rowSpacing:5,columns:16},r?r.map((d,c)=>React$a.createElement(Grid,{id:d.uuid,key:d.uuid,xs:8},React$a.createElement(_MagicImg,{magic:0,src:d.imgBase64,uuid:d.uuid}))):void 0))))});function getMdTextFromMonaco(){return window.editor?.getValue?window.editor.getValue():"null"}function getRenderHTML(e="view-area"){let t=document.getElementById(e);if(t)return t.innerHTML}function PageBreaker(e){let t=/\|---\|/g;return e=e.replace(t,()=>'<div style="page-break-after: always;"></div>'),e}const index="",welcomeText=`[TOC]\r
\r
## Êñ∞‰∏Ä‰ª£ÁöÑ‚ÄúMarkdown‚ÄùÁºñËæëÂô®\r
\r
## ‰∏Ä„ÄÅÂ∞èË¥¥Â£´üòÄ\r
\r
1. Â¶ÇÊûú‰Ω†Ëøò‰∏çÊ∏ÖÊ•ö‰ªÄ‰πàÊòØmarkdownÁöÑËØùËØ∑ÁßªÊ≠•[markdownÁÆÄ‰ªã](https://markdown.com.cn/cheat-sheet.html#ÊÄªËßà), ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÁÆÄÁü≠ÁöÑ‰ªãÁªçÔºö\r
   - Â∑¶ËæπÊòØÊ∫ê‰ª£Á†Å\r
   - Âè≥ËæπÊòØÊ∏≤ÊüìÂá∫Êù•ÁöÑÁªìÊûú\r
   - ËØïÁùÄÂú®Êñ∞ÁöÑ‰∏ÄË°åÊâìÂá∫‰∏Ä‰∏™# ‰Ω†Â•Ω, Âú®Âè≥ËæπÂ∞±‰ºöÂèëÁé∞ÂèòÊàêÊ†áÈ¢ò‰∫ÜÔºÅ\r
2. Âú®Êñ∞ÁöÑ‰∏ÄË°åÊâì‰∏Ä‰∏™ÊñúÊù†Â≠óÁ¨¶Ôºö\`/\`ÔºåÂç≥ÂèØÁúãÂà∞ÊµÅÁ®ãÂõæ„ÄÅ‰ª£Á†ÅÂùóÁ≠âÂø´Êç∑ÊèêÁ§∫ÔºÅ\r
3. Èº†Ê†áÂè≥ÈîÆ‰πüÂèØÂèëÁé∞Êñ∞Â§ßÈôÜ( ‚Ä¢ÃÄ œâ ‚Ä¢ÃÅ )‚úß\r
4. ÂØºÂá∫‰∏∫PDFÂú®Âè≥‰∏äËßíÊõ¥Â§öÈáåÔºåÁõ¥Êé•Êåâ‰∏ã\`Ctrl + P\`‰πüÂèØ‰ª•Âì¶\r
5. Âø´Êç∑ÈîÆÂÆåÂ§áÔºåËØïÁùÄÊåâ‰∏ã‰ªñ‰ª¨ÂêßÔºÅ\r
   - \`Ctrl + V\` ‰∏ä‰º†Â§çÂà∂ÂíåÊà™ÂõæÁöÑJPG„ÄÅPNGÊ†ºÂºèÂõæÁâá\r
   - \`Ctrl + Z\` Êí§ÂõûÁºñËæë\r
   - \`Ctrl + F\` Êü•Êâæ‰∏éÊõøÊç¢\r
   - \`Ctrl + E/R\` ÊñáÊú¨Â±Ö‰∏≠/Âè≥\r
   - \`Ctrl + B\` ÊñáÊú¨Âä†Á≤ó\r
   - \`Ctrl + U\` ‰∏ãÂàíÁ∫ø\r
   - \`Ctrl + I\` ÊñáÊú¨Êñú‰Ωì\r
   - \`Ctrl + 1-4\` 1-4Á∫ßÊ†áÈ¢ò\r
   - \`\` Ctrl + \` \`\` Âà†Èô§Á∫ø\r
   - \`Ctrl + Q\` ÂêåÊ≠•ÊªöÂä®\r
   - \`Ctrl + Shift + F\` Êñá‰ª∂ÁÆ°ÁêÜÂô®\r
   - \`Ctrl + S\` ‰øùÂ≠ò\r
   - \`Ctrl + M\` ÊèíÂÖ•‰∏Ä‰∏™LaTex‰ª£Á†ÅÂùó\r
   - \`Shift + Alt + F\` Ê†ºÂºèÂåñMarkdown\r
   - \`Ctrl + Alt + V\` ËØ≠Èü≥ËΩ¨ÊñáÂ≠ó\r
   - Êõ¥Â§öÂø´Êç∑ÈîÆÔºåÊï¨ËØ∑ÊúüÂæÖ...\r
\r
## ‰∫å„ÄÅ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑMakrdownËØ≠Ê≥ï\r
\r
‰Ω†Â•ΩÔºåÊàëÊòØË°®ÊÉÖÂåÖüòÖ\r
\r
ÊàëÊòØËÑöÊ≥® [^1] Â∞±ÊòØÂºïÁªèÊçÆÂÖ∏ÁöÑÈÇ£ÁßçËÑöÊ≥® [^2]ÔºåÂ∞±ÊòØÁÇπ‰∏Ä‰∏ãÂ∞±‰ºöË∑≥ËΩ¨Âà∞ÊúÄ‰∏ãÈù¢Ëß£ÈáäÁöÑÈÇ£ÁßçÔºÅÔºÅÔºÅ\r
\r
‰Ω†Â•ΩÔºåÊàëÊòØÂ∏¶ËØ≠Ê≥ïÊèêÁ§∫ÁöÑLaTexÔºÅËØïÁùÄÂú®‰∏§‰∏™\`$$ $$\`‰∏≠Èó¥Êâì‰∏Ä‰∏™ÊñúÊù†ÂêßÔºåÂ¶ÇÊûú‰Ω†‰∏çÊ∏ÖÊ•öLaTexÂÖ¨ÂºèÁöÑËØ≠Ê≥ïÔºåËØ∑ÁßªÊ≠•[LaTexÂÖ¨Á§∫Ë°®](https://blog.csdn.net/Yushan_Ji/article/details/134322574)\r
\r
$$\r
\\lambda+1=\\lambda^3-1\r
$$\r
\r
[ÊàëÊòØÈìæÊé•](https://bigonion.cn)\r
\r
## ‰∏â„ÄÅ‰∏Ä‰∫õÊâ©Â±ïÁöÑ‰∏úË•ø‚ú®\r
\r
ÂØπÔºåÂ∞±Âú®‰∏ãÈù¢ÔºåÊâì‰∏Ä‰∏™ÊñúÊù†/ÔºåÂÜçÊâìflowÔºåÂõûËΩ¶ÔºÅ\r
\r
\`\`\`mermaid\r
flowchart TB\r
Start --> Stop\r
\`\`\`\r
\r
## Âõõ„ÄÅÂÖ≥‰∫éÊàëÂíåËøô‰∏™È°πÁõÆ\r
\r
https://github.com/LiWeny16/MarkdownOnline\r
\r
[^1]: Â∞±ÊòØËß£Èáä‰∏Ä‰∫õ‰∏úË•øÁöÑËÑöÊ≥®Âï¶ÔºÅ\r
[^2]: ËøôÊòØÁ¨¨‰∫å‰∏™ËÑöÊ≥®ÔºÅ\r
`;function blankTextInit(){return new Promise(e=>{readMemoryText().then(t=>{t.length&&t[0].contentText?(window.editor.setValue(t[0].contentText),e()):(window.editor.setValue(welcomeText),e())})})}const regs={markHighlight:/@@(.*?)@@/,emoji:/^:([a-zA-Z0-9_\+\-]+):/},hljs$3=(await importModule("https://cdn.jsdmirror.com/npm/@highlightjs/cdn-assets@11.6.0/es/highlight.min.js")).default,emojify=(await importModule("https://cdn.jsdmirror.com/npm/node-emoji@2.1.3/+esm")).emojify,has=(await importModule("https://cdn.jsdmirror.com/npm/node-emoji@2.1.3/+esm")).has,vconsole=(await importModule("https://cdn.jsdmirror.com/npm/vconsole@3.15.1/+esm")).default,newTokenizer={heading(e){return e.match(/^#{1,6}\s.*/),!1},codespan(e){return e.match(/^\&+([^\&\n]+?)\&+/),!1}},newRenderer={paragraph(e){return`<p class="line-hilight">${e}</p>`},heading(e,t){return`
            <h${t}  class="line-hilight">
              <a href="#">
                <span class="header-link"></span>
              </a>
              ${e}
            </h${t}>`},code(code,lang,_escaped){let finalCodeBlock;return lang=="js-run"?(new vconsole,`${eval(code)}`):(hljs$3.getLanguage(lang)?finalCodeBlock=`<pre><code class="language-${lang} ">${code}</code></pre>`:lang=="mermaid"?finalCodeBlock=`<div class="language-mermaid language-plaintext">${code}</div>`:finalCodeBlock=`<pre><code class="language-plaintext">${code}</code></pre>`,finalCodeBlock)},image(e,t,n){const i="#";let r=Math.random(),a="auto",o="",s="L",l=n.split(i);if(l.length>1)for(let d=0;d<l.length;d++){let c=l[d];c==="s"&&(o+="box-shadow: rgb(199 199 199) 1vh 2vh 21px"),c==="s1"&&(o+="box-shadow: rgb(146 146 146) 1vh 2vh 21px;"),c==="s2"&&(o+="box-shadow: rgb(32 32 32 / 86%) 1vh 2vh 21px"),(c==="C"||c=="c")&&(s="C"),(c==="R"||c=="r")&&(s="R"),c.startsWith("w")&&(a=l[d].substring(1),a.endsWith("%")||(a+="px"))}return`<div class="imgBox-r FLEX ${r} ${s=="C"?" JUS-CENTER":s=="R"?"JUS-RIGHT":""}" ><img class="img_resize_transition" width="${a}" style="${o}" src="${e}" alt="${n}"></div>`}},importUrlExtension={extensions:[{name:"importUrl",level:"block",start(e){return e.indexOf(`
:`)},tokenizer(e){const n=/^:(https?:\/\/.+?):/.exec(e);if(n)return{type:"importUrl",raw:n[0],url:n[1],html:""}},renderer(e){return`<iframe style="border:none" src="${e.url}" width="100%" height="100%"></iframe>`}}]},markItExtension={extensions:[{name:"markIt",level:"inline",start(e){return e.match(/@@/)?.index},tokenizer(e,t){const n=e.match(regs.markHighlight),i=n?n[1]:"";if(n)return{type:"markIt",raw:e,text:i}},renderer(e){return`${e.raw.replace(regs.markHighlight,`<mark>${e.text}</mark>`)}`}}]},imgExtension={name:"newRenderer",level:"block",tokenizer:newTokenizer,renderer:newRenderer,async:!0,async walkTokens(e){if(e.type,e.type==="image"){const t=e.href;if(t?.match(/vf/)){let n=(t.match(/vf\/(\d+)/)?t.match(/vf\/(\d+)/)[1]:0).toString(),i=await readMemoryImg("uuid",parseInt(n)).then(r=>r[0]?r[0].imgBase64:0);e.href=i}}else e.type==="code"||e.type}},emojiExtension={extensions:[{name:"emoji",level:"inline",start(e){return e.match(/:/)?.index},tokenizer(e,t){const n=e.match(regs.emoji);return n?{type:"emoji",raw:n[0],text:n[1]}:!1},renderer(e){return has(e.raw)?emojify(e.raw):e.raw}}]};class OperateLocalStorage{version="0.2";setItem(t,n){localStorage.setItem(t,n)}getItem(t){return localStorage.getItem(t)?localStorage.getItem(t):""}removeItem(t){localStorage.removeItem(t)}}const makeAutoObservable=(await importModule("https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm")).makeAutoObservable,observable=(await importModule("https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm")).observable;class ConfigStore{themeState;fileManagerState;emojiPickerState;contextMenuClickPosition;settingsConfig;constructor({themeState:t,fileManagerState:n,emojiPickerState:i,contextMenuClickPosition:r,settingsConfig:a}){makeAutoObservable(this,{themeState:observable,fileManagerState:observable,emojiPickerState:observable,contextMenuClickPosition:observable,settingsConfig:observable}),this.themeState=t,this.fileManagerState=n,this.emojiPickerState=i,this.contextMenuClickPosition=r,this.settingsConfig=a}getAllConfig(){let t={};return Object.getOwnPropertyNames(this).forEach((n,i)=>{t[n]=this[n]}),t}}function markdownitLineNumber(e,t){const n=function(i,r,a,o,s){let l;return(i[r].map&&i[r].level===0||i[r].type==="list_item_open")&&(l=i[r].map[0],i[r].attrSet("data-line",String(l))),s.renderToken(i,r,a)};e.renderer.rules.paragraph_open=e.renderer.rules.heading_open=e.renderer.rules.table_open=e.renderer.rules.tr_open=e.renderer.rules.th_open=e.renderer.rules.bullet_list_open=e.renderer.rules.list_item_open=n}let myPlugin=function(e){e.core.ruler.before("inline","myrule",function(t){var n=t.tokens;for(let i=0;i<n.length;i++)n[i].content&&n[i].content.indexOf("MYRULE")})},imagePlugin=function(e){e.renderer.rules.image,e.renderer.rules.image=function(t,n,i,r,a){const o=t[n],s="#";let l=o.attrs[o.attrIndex("src")][1],d=o.content;o&&o.attrGet("src")?.startsWith("/vf/")&&r.vfImgSrcArr&&(l=r.vfImgSrcArr[r.vfImgSeq++]);let c="auto",m="",u="L",h=d.split(s);if(h.length>1)for(let p=0;p<h.length;p++){let f=h[p];f==="s"&&(m+="box-shadow: rgb(199 199 199) 1vh 2vh 21px"),f==="s1"&&(m+="box-shadow: rgb(146 146 146) 1vh 2vh 21px;"),f==="s2"&&(m+="box-shadow: rgb(32 32 32 / 86%) 1vh 2vh 21px"),(f==="C"||f=="c")&&(u="C"),(f==="R"||f=="r")&&(u="R"),f.startsWith("w")&&(c=h[p].substring(1),c.endsWith("%")||(c+="px"))}return`<div class="imgBox-r FLEX  ${u=="C"?" JUS-CENTER":u=="R"?"JUS-RIGHT":""}" ><img class="img_resize_transition" width="${c}" style="${m}" src="${l}" alt="${d}">
    </div>`}};const toJS=(await importModule("https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm")).toJS;let opLocalStorage=new OperateLocalStorage;function changeTheme(e){e=="light"?(useConfig().themeState="light",opLocalStorage.setItem("themeState","light")):(useConfig().themeState="dark",opLocalStorage.setItem("themeState","dark"))}function getTheme(){return useConfig().themeState}function changeEmojiPickerState(e){e=="on"?(useConfig().emojiPickerState="on",opLocalStorage.setItem("emojiPickerState","on")):(useConfig().emojiPickerState="off",opLocalStorage.setItem("emojiPickerState","off"))}function getEmojiPickerState(){return useConfig().emojiPickerState}function setContextMenuClickPosition(e){if(e.posx&&e.posy)useConfig().contextMenuClickPosition=e;else return!1}function getContextMenuClickPosition(){return useConfig().contextMenuClickPosition}function changeSettings(e){const t=getSettings(),n=updateSettingsConfig(t,e);useConfig().settingsConfig=n,opLocalStorage.setItem("settingsConfig",JSON.stringify(n))}function getSettings(){return toJS(useConfig().settingsConfig)}function updateSettingsConfig(e,t){for(const n in t)n in e?Object.assign(e[n],t[n]):e[n]=t[n];return e}function changeFileManagerState(e){useConfig().fileManagerState=e}function getFileManagerState(){return useConfig().fileManagerState}const hljs$2=(await importModule("https://cdn.jsdmirror.com/npm/@highlightjs/cdn-assets@11.6.0/es/highlight.min.js")).default;let codePlugin=function(e){const t=e.renderer.rules.code_block;e.renderer.rules.fence=function(n,i,r,a,o){let s;n[i].map&&n[i].level===0&&(s=n[i].map[0],n[i].attrSet("data-line",String(s)));let l=n[i].info,d=n[i].content;if(d=d.replace(/</g,"&lt;").replace(/>/g,"&gt;"),l==="mermaid"){if(a.mermaidParsedArr)return`<div data-line="${s}" class="language-mermaid language-plaintext">
        ${a.mermaidParsedArr[a.mermaidSeq++]}
        </div>`}else return hljs$2.getLanguage(l)?`<pre class="language-code" data-line="${s}"><code class="language-${l} ${getTheme()==="light"?"":"hljs-dark"}">${d}</code></pre>`:`<div class="code-container" data-line="${s}">
      <pre><code class="language-plaintext">${d}</code></pre>
    </div>`;return t(n,i,r,a,o)}},cluePlugin=function(e){function t(n){const i=n.tokens;for(let r=0;r<i.length;r++)if(i[r].type==="inline"){let a=i[r].children;for(let o=0;o<a.length;o++){const s=a[o];if(s.type==="text"&&s.content){const d=s.content.match(/\^(.*?)\^(.*?)\#$/);if(d){const c=new n.Token("html_block","",0);c.content=`<div class="${d[2]}">${e.render(d[1])}</div>`,a[o]=c,o++}}}}}e.core.ruler.push("my_rule1",t),e.inline.ruler.before("emphasis","mark",(n,i)=>!1)};function customAlignPlugin(e){e.core.ruler.push("custom_align",function(t){let n=null;t.tokens.forEach((i,r)=>{if(i.type==="paragraph_open"){let a=t.tokens[r+1];a&&a.type==="inline"&&a.children.forEach(o=>{if(o.type==="text"){const s=o.content;switch(s.slice(-2)){case"||":o.content=s.slice(0,-2),n="C";break;case">>":o.content=s.slice(0,-2),n="R";break}}})}n&&i.type==="paragraph_open"&&(i.attrPush(["class",n]),n=null)})})}function customAlignPluginHeading(e){e.core.ruler.push("custom_align_heading",function(t){let n=null;t.tokens.forEach((i,r)=>{if(i.type==="heading_open"){let a=t.tokens[r+1];a&&a.type==="inline"&&a.children.forEach(o=>{if(o.type==="text"){const s=o.content;switch(s.slice(-2)){case"||":o.content=s.slice(0,-2),n="C";break;case">>":o.content=s.slice(0,-2),n="R";break}}})}n&&i.type==="heading_open"&&(i.attrPush(["class",n]),n=null)})})}function preViewClickEvent(e,t,n=e.createDecorationsCollection()){document.getElementById("view-area").addEventListener("dblclick",function(i){let r=i.target,a=0;if(r!==this){for(;r;){if(r.hasAttribute("data-line")){a=parseInt(r.getAttribute("data-line"));break}r=r.parentElement}a&&(e.setPosition({lineNumber:a+1,column:1}),e.revealLineInCenter(a+1,1),n.clear(),n.set([{range:new t.Range(a+1,1,a+1,1),options:{isWholeLine:!0,className:"HILIGHT-MONACO",zIndex:0}}]))}})}const katex=window.katex;function isValidDelim(e,t){var n,i,r=e.posMax,a=!0,o=!0;return n=t>0?e.src.charCodeAt(t-1):-1,i=t+1<=r?e.src.charCodeAt(t+1):-1,(n===32||n===9||i>=48&&i<=57)&&(o=!1),(i===32||i===9)&&(a=!1),{can_open:a,can_close:o}}function math_inline(e,t){var n,i,r,a,o;if(e.src[e.pos]!=="$")return!1;if(a=isValidDelim(e,e.pos),!a.can_open)return t||(e.pending+="$"),e.pos+=1,!0;for(n=e.pos+1,i=n;(i=e.src.indexOf("$",i))!==-1;){for(o=i-1;e.src[o]==="\\";)o-=1;if((i-o)%2==1)break;i+=1}return i===-1?(t||(e.pending+="$"),e.pos=n,!0):i-n===0||i-n===2?(t||(e.pending+="$$"),e.pos=n+1,!0):(a=isValidDelim(e,i),a.can_close?(t||(r=e.push("math_inline","math",0),r.markup="$",r.content=e.src.slice(n,i)),e.pos=i+1,!0):(t||(e.pending+="$"),e.pos=n,!0))}function math_block(e,t,n,i){var r,a,o,s,l=!1,d,c=e.bMarks[t]+e.tShift[t],m=e.eMarks[t];if(c+2>m||e.src.slice(c,c+2)!=="$$")return!1;if(c+=2,r=e.src.slice(c,m),i)return!0;for(r.trim().slice(-2)==="$$"&&(r=r.trim().slice(0,-2),l=!0),o=t;!l&&(o++,!(o>=n||(c=e.bMarks[o]+e.tShift[o],m=e.eMarks[o],c<m&&e.tShift[o]<e.blkIndent)));)e.src.slice(c,m).trim().slice(-2)==="$$"&&(s=e.src.slice(0,m).lastIndexOf("$$"),a=e.src.slice(c,s),l=!0);return e.line=o+1,d=e.push("math_block","math",0),d.block=!0,d.content=(r&&r.trim()?r+`
`:"")+e.getLines(t+1,o,e.tShift[t],!0)+(a&&a.trim()?a:""),d.map=[t,e.line],d.markup="$$",!0}function markdownItLatex(e,t){t=t||{throwOnError:!1,strict:!1};var n=function(o){if(t.displayMode=!1,o)try{return katex.renderToString(o,t)}catch{return o}else return"Latex Missing"},i=function(o,s){return n(o[s].content)},r=function(o,s){t.displayMode=!0;let l;if(s.map&&s.level===0&&(l=s.map[0]),o)try{return`<p data-line=${String(l)}>`+katex.renderToString(o,t)+"</p>"}catch{return o}else return"LATEX MISSING"},a=function(o,s){return r(o[s].content,o[s])+`
`};e.inline.ruler.after("escape","math_inline",math_inline),e.block.ruler.after("blockquote","math_block",math_block,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=i,e.renderer.rules.math_block=a}const Notification=(await importModule("https://cdn.jsdmirror.com/npm/@arco-design/web-react@2.62.0/+esm")).Notification,noteUseArco=(e,t,n)=>{const i=n?.kind??"success",r=n?.position??"bottomRight";Notification[i]({title:e,content:t,position:r})},hljs$1=(await importModule("https://cdn.jsdmirror.com/npm/@highlightjs/cdn-assets@11.6.0/es/highlight.min.js")).default,marked=(await importModule("https://cdn.jsdmirror.com/npm/marked/lib/marked.esm.js")).marked,mermaid$1=(await importModule("https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default,markdownIt=(await importModule("https://cdn.jsdmirror.com/npm/markdown-it@8.4.2/+esm")).default,markdownItIncrementalDOM=window.markdownitIncrementalDOM,mdItMultimdTable=(await importModule("https://cdn.jsdmirror.com/npm/markdown-it-multimd-table@4.2.3/+esm")).default,markdownItGithubToc=(await importModule("https://cdn.jsdmirror.com/npm/markdown-it-github-toc@3.2.4/src/index.js/+esm")).default,markdownItTaskLists=(await importModule("https://cdn.jsdmirror.com/npm/@hackmd/markdown-it-task-lists@2.1.4/+esm")).default,markdownItEmoji=(await importModule("https://cdn.jsdmirror.com/npm/markdown-it-emoji@3.0.0/+esm")).full,kit$5=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default,markdownitFootNote=(await importModule("https://cdn.jsdmirror.com/npm/markdown-it-footnote@4.0.0/+esm")).default;function markdownParser(){return markdownIt({html:!0,linkify:!0,typographer:!0,breaks:!0}).use(markdownitLineNumber).use(markdownItGithubToc,{anchorLinkSymbol:"",anchorLinkBefore:!1}).use(myPlugin).use(imagePlugin).use(mdItMultimdTable,{multiline:!0,rowspan:!0,headerless:!0,multibody:!0,aotolabel:!0}).use(codePlugin).use(cluePlugin).use(markdownitFootNote).use(customAlignPlugin).use(customAlignPluginHeading).use(markdownItEmoji).use(markdownItLatex).use(markdownItTaskLists).use(markdownItIncrementalDOM)}class settingsClass{constructor(){}markedInit(){marked.use({mangle:!1,headerIds:!1,strict:!1,extensions:[],async:!0,lineNumber:!0},importUrlExtension,imgExtension,markItExtension,emojiExtension)}mermaidInit(){const t={securityLevel:"loose",logLevel:4,startOnLoad:!1,gantt:{fontSize:19,sectionFontSize:"16",numberSectionStyles:10,useMaxWidth:!0},theme:getSettings().advanced.mermaidTheme};mermaid$1.parseError=n=>{},mermaid$1.initialize(t),mermaid$1.mermaidAPI.initialize(t)}hljsInit(){hljs$1.configure({ignoreUnescapedHTML:!0})}settingsAllInit(){this.markedInit(),this.mermaidInit(),this.hljsInit()}static newSettings(){return new this}}function allInit(e=window.editor,t=window.monaco,n){new settingsClass().settingsAllInit(),blankTextInit().then(async()=>{await mdConverter(),n&&n(),await kit$5.sleep(110),noteUseArco("Â∑≤Êõ¥Êñ∞Âà∞ÊúÄÊñ∞ÁâàÊú¨","ÂΩìÂâçÁâàÊú¨:v2.2.1"),await kit$5.sleep(680),noteUseArco("ÂΩìÂâçÁâàÊú¨Êñ∞Â¢ûÁâπÊÄß","Êñá‰ª∂ÁÆ°ÁêÜÂô®",{kind:"info"}),noteUseArco("Bug‰øÆÂ§çÊÉÖÂÜµ","‰øÆÂ§çÂ¢ûÈáèÊ∏≤Êüì‚Äú<-‚ÄùÊó∂‰ºöÂá∫Áé∞ÁöÑÈóÆÈ¢ò",{kind:"info"})}),window._deco=e.createDecorationsCollection(),window._speechData={processing:!1,speechResult:"",speech:null},preViewClickEvent(e,t,window._deco)}const defaultConfig={themeState:"light",fileManagerState:!1,emojiPickerState:"off",contextMenuClickPosition:{posx:20,posy:20},settingsConfig:{basic:{syncScroll:!1,speechLanguage:"zh-CN",fileEditLocal:!0},advanced:{mermaidTheme:"default"}}},normalSettingsKey=[...Object.keys(defaultConfig.settingsConfig.basic),...Object.keys(defaultConfig.settingsConfig.advanced)];Object.keys(defaultConfig.settingsConfig.advanced);const normalMermaidTheme=["default","forest","dark","neutral"],normalMermaidThemeMap=["default (ÈªòËÆ§ÔºåÊâçÊòØÊúÄÁæéÁöÑÔºÅ)","forest (ËØ¥ÁúüÁöÑÔºåÂæàÁªø)","dark (ËØ¥ÁúüÁöÑÔºåÂæàÈªë)","neutral (Ê∏ÖÂøÉÂØ°Ê¨≤ÔºåÂá∫ÂÆ∂ÂøÖÈÄâ)"];function configInit(e){function t(r){typeof n[r]=="object"?i.setItem(r,JSON.stringify(n[r])):i.setItem(r,n[r])}let n=e,i=new OperateLocalStorage;for(let r in n)if(i.getItem(r))if(r=="themeState"||r=="emojiPickerState"||r=="settingsConfig")try{if(typeof n[r]=="object"){const a=JSON.parse(i.getItem(r).toString());for(let o in a)Object.keys(a[o]).forEach(s=>{if(!normalSettingsKey.includes(s))return t(r),n});n[r]=JSON.parse(i.getItem(r).toString())}else n[r]=i.getItem(r).toString()}catch(a){console.log(a),t(r)}else t(r);else t(r);return n}const configStore=new ConfigStore(configInit(defaultConfig)),useConfig=()=>configStore,kit$4=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default,mermaid=(await importModule("https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default;async function prepareParser(e){async function t(c){let m=c.attrGet("src");if(m.startsWith("/vf/")){let u=m.match(/\d+/)[0];return await readMemoryImg("uuid",parseInt(u)).then(h=>h[0].imgBase64)}}async function n(c){let m=c.content,u;try{return await mermaid.parse(m,{suppressErrors:!1}),await mermaid.parse(m,{suppressErrors:!0})&&(u=await mermaid.render(`_mermaidSvg_${kit$4.getUUID().slice(0,5)}`,m)),u.svg}catch(h){return`<pre class="ERR">${h}</pre>`}}let i=[],r=[],a=[],o=[],s=[],l=markdownParser();l.renderer.rules.image=function(c,m){return c[m].attrGet("src")?.startsWith("/vf/")&&i.push(c[m]),""},l.renderer.rules.fence=function(c,m,u,h,p){const f=c[m].info;return f==="mermaid"?(r.push(c[m]),""):((f==="py"||f==="python")&&a.push(c[m]),"")},l.render(e,{});for(const c of i){let m=await t(c);o.push(m)}for(const c of r){let m=await n(c);s.push(m)}return{vfImgSrcArr:o,vfImgSeq:0,mermaidParsedArr:s,mermaidSeq:0}}const IncrementalDOM=window.IncrementalDOM,hljs=(await importModule("https://cdn.jsdmirror.com/npm/@highlightjs/cdn-assets@11.6.0/es/highlight.min.js")).default;async function mdConverter(e=!1){let t=getMdTextFromMonaco();t=PageBreaker(t);let n=await prepareParser(t);e?document.getElementById("view-area").innerHTML=markdownParser().render(t,n):IncrementalDOM.patch(document.getElementById("view-area"),markdownParser().renderToIncrementalDOM(t,n)),hljs.highlightAll()}const React$9=window.React,ColorButton=styled(Button)(({theme:e})=>({color:e.palette.mode==="light"?"rgb(55, 65, 81)":"#FFFFFF",marginLeft:10,fontFamily:["electronicFont"].join(","),backgroundColor:e.palette.mode==="light"?"#FFFFFF":"","&:hover":{backgroundColor:e.palette.mode==="light"?grey[300]:""}}));function CustomizedButtons(e){return React$9.createElement(ColorButton,{id:"demo-customized-button",href:e.href?e.href:void 0,"aria-controls":e.open?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":e.open?"true":void 0,disableElevation:!0,onClick:e.onClick,onMouseOver:e.onHover,endIcon:e.endIcon,startIcon:e.startIcon?e.startIcon:void 0,variant:"contained"},e.children)}const kit$3=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default;function myPrint(){kit$3.sleep(400).then(()=>{window.print()})}const svg_1=""+new URL("../2904f250.aboutBoxÂÖ≥Èó≠.svg",import.meta.url).href;let aboutMd;const aboutBox=async()=>{let e=`
<div class="closeBox" id="closeAbout">
<img id="closeAboutSvg" class="closeSvg" src=${svg_1} alt="">
</div>
`;await fetch("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/src/assets/about.md").then(async n=>{aboutMd=n.text(),document.getElementById("aboutMd")&&(document.getElementById("aboutMd").innerHTML=e+t(await aboutMd))}).catch(n=>{console.error("Error fetching markdown:",n)});function t(n){return markdownParser().render(n)}document.getElementById("closeAboutSvg").addEventListener("click",()=>{document.getElementById("aboutBox").style.display="none"}),document.getElementById("aboutBox").addEventListener("click",n=>{n.target==document.getElementById("markdownParser")&&(document.getElementById("aboutBox").style.display="none")}),document.getElementById("aboutBox").style.display="block"},supportFileTypes=[".md",".py",".js",".ts"];class FileManager{fileHandle=null;constructor(t){t?this.fileHandle=t:this.fileHandle=window._fileHandle}async openSingleFile(){try{return[this.fileHandle]=await window.showOpenFilePicker({multiple:!1,types:[{description:"Text Files",accept:{"text/plain":supportFileTypes}}]}),window._fileHandle=this.fileHandle,this.fileHandle}catch(t){return console.error("Error opening file:",t),null}}async readFile(){return this.fileHandle?await(await this.fileHandle.getFile()).text():void 0}async saveFileSilently(t){if(!this.fileHandle)return;const n=await this.fileHandle.createWritable(),i=t;return await n.write(i),await n.close(),!0}async saveAsFile(t){try{const i=await(await window.showSaveFilePicker({suggestedName:"text",types:[{description:"Text Files",accept:{"text/plain":supportFileTypes}}]})).createWritable();await i.write(t??"Sth.."),await i.close(),console.log("File saved successfully as new file.")}catch(n){console.error("Save As operation cancelled or failed:",n)}}}function replaceMonacoAll(e,t,n=""){const i=t??window.editor,r=e.editor.getEditors()[0].getModel().getFullModelRange();i.executeEdits("my-replace2",[{range:r,text:n,forceMoveMarkers:!0}])}const React$8=window.React,IOSSwitch=styled(e=>React$8.createElement(Switch,{focusVisibleClassName:".Mui-focusVisible",disableRipple:!0,...e}))(({theme:e})=>({width:42,height:26,padding:0,"& .MuiSwitch-switchBase":{padding:0,margin:2,transitionDuration:"300ms","&.Mui-checked":{transform:"translateX(16px)",color:"#fff","& + .MuiSwitch-track":{backgroundColor:e.palette.mode==="dark"?"#2ECA45":"#65C466",opacity:1,border:0},"&.Mui-disabled + .MuiSwitch-track":{opacity:.5}},"&.Mui-focusVisible .MuiSwitch-thumb":{color:"#33cf4d",border:"6px solid #fff"},"&.Mui-disabled .MuiSwitch-thumb":{color:e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]},"&.Mui-disabled + .MuiSwitch-track":{opacity:e.palette.mode==="light"?.7:.3}},"& .MuiSwitch-thumb":{boxSizing:"border-box",width:22,height:22},"& .MuiSwitch-track":{borderRadius:26/2,backgroundColor:e.palette.mode==="light"?"#E9E9EA":"#39393D",opacity:1,transition:e.transitions.create(["background-color"],{duration:500})}})),Message=(await importModule("https://cdn.jsdmirror.com/npm/@arco-design/web-react@2.62.0/+esm")).Message,alertUseArco=(e,t,n)=>{const i=n?.zIndex??9999,r=n?.kind??"success";let a=document.getElementsByClassName("arco-message-wrapper arco-message-wrapper-top")[0];a?a.style.zIndex=String(i)??i:kit$6.addStyle(`.arco-message-wrapper .arco-message-wrapper-top{z-index:${i}}`),Message[r]({style:{position:"relative",zIndex:i},content:e,closable:!0,duration:t??2500,position:"top",...n?.extraConfig})},React$7=window.React,ITEMS=[{id:"1",label:"Documents",children:[{id:"1.1",label:"Company",children:[{id:"1.1.1",label:"Invoice",fileType:"pdf"},{id:"1.1.4",label:"Equipment",fileType:"pdf"},{id:"1.1.5",label:"Video conference",fileType:"video"}]}]},{id:"2",label:"Bookmarked",children:[{id:"2.1",label:"Learning materials",fileType:"folder"},{id:"2.2",label:"News",fileType:"folder"}]},{id:"3",label:"Bookmarked",children:[],fileType:"folder"}];function DotIcon(){return React$7.createElement(Box$1,{sx:{width:6,height:6,borderRadius:"70%",bgcolor:"warning.main",display:"inline-block",verticalAlign:"middle",zIndex:1,mx:1}})}const StyledTreeItemRoot=styled(TreeItem2Root)(({theme:e})=>({color:e.palette.mode==="light"?e.palette.grey[800]:e.palette.grey[400],position:"relative",[`& .${treeItemClasses.groupTransition}`]:{marginLeft:e.spacing(3.5)}})),CustomTreeItemContent=styled(TreeItem2Content)(({theme:e})=>({flexDirection:"row-reverse",borderRadius:e.spacing(.7),marginBottom:e.spacing(.5),marginTop:e.spacing(.5),padding:e.spacing(.5),paddingRight:e.spacing(1),fontWeight:500,[`& .${treeItemClasses.iconContainer}`]:{marginRight:e.spacing(2)},"&.Mui-expanded ":{"&:not(.Mui-focused, .Mui-selected, .Mui-selected.Mui-focused) .labelIcon":{color:e.palette.mode==="light"?e.palette.primary.main:e.palette.primary.dark},"&::before":{content:'""',display:"block",position:"absolute",left:"16px",top:"44px",height:"calc(100% - 48px)",width:"1.5px",backgroundColor:e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[700]}},"&:hover":{backgroundColor:alpha(e.palette.primary.main,.1),color:e.palette.mode==="light"?e.palette.primary.main:"white"},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:e.palette.mode==="light"?e.palette.primary.main:e.palette.primary.dark,color:e.palette.primary.contrastText}}));function TransitionComponent(e){return React$7.createElement(Collapse,{...e})}const StyledTreeItemLabelText=styled(Typography)({color:"inherit",fontFamily:"General Sans",fontWeight:500});function CustomLabel({icon:e,expandable:t,children:n,...i}){return React$7.createElement(TreeItem2Label,{...i,sx:{display:"flex",alignItems:"center"}},e&&React$7.createElement(Box$1,{component:e,className:"labelIcon",color:"inherit",sx:{mr:1,fontSize:"1.2rem"}}),React$7.createElement(StyledTreeItemLabelText,{variant:"body2"},n),t&&React$7.createElement(DotIcon,null))}const isExpandable=e=>Array.isArray(e)?e.length>0&&e.some(isExpandable):!!e,getIconFromFileType=e=>{switch(e){case"image":return default_1$7;case"pdf":return default_1$6;case"doc":return default_1$2;case"video":return default_1$5;case"folder":return default_1$4;case"pinned":return default_1$3;case"trash":return default_1$1;default:return default_1$2}},CustomTreeItem=React$7.forwardRef(function e(t,n){const{id:i,itemId:r,label:a,disabled:o,children:s,...l}=t,{getRootProps:d,getContentProps:c,getIconContainerProps:m,getLabelProps:u,getGroupTransitionProps:h,status:p,publicAPI:f}=useTreeItem2({id:i,itemId:r,children:s,label:a,disabled:o,rootRef:n}),y=f.getItem(r),b=isExpandable(s);let x;return b?x=default_1$4:y.fileType&&(x=getIconFromFileType(y.fileType)),React$7.createElement(TreeItem2Provider,{itemId:r},React$7.createElement(StyledTreeItemRoot,{...d(l)},React$7.createElement(CustomTreeItemContent,{...c({className:clsx("content",{"Mui-expanded":p.expanded,"Mui-selected":p.selected,"Mui-focused":p.focused,"Mui-disabled":p.disabled})})},React$7.createElement(TreeItem2IconContainer,{...m()},React$7.createElement(TreeItem2Icon,{status:p})),React$7.createElement(CustomLabel,{...u({icon:x,expandable:b&&p.expanded})})),s&&React$7.createElement(TransitionComponent,{...h()})))});function FileExplorer(e){return React$7.createElement(RichTreeView,{items:e.fileDirectoryArr??ITEMS,"aria-label":"file explorer",defaultExpandedItems:["1","1.1"],defaultSelectedItems:"1.1",sx:{height:"fit-content",flexGrow:1,maxWidth:400,overflowY:"auto"},slots:{item:CustomTreeItem}})}const React$6=window.React,fileManager=new FileManager,FileDrawer=observer(function e(){const[t,n]=React$6.useState([]),[i,r]=React$6.useState(""),a=useTheme(),o=l=>()=>{changeFileManagerState(l)},s=(l,d)=>{changeSettings({basic:{fileEditLocal:d}})};return React$6.createElement(React$6.Fragment,null,React$6.createElement(Drawer,{sx:{"& .MuiBackdrop-root":{backgroundColor:"transparent"}},anchor:"right",open:getFileManagerState(),onClose:o(!1)},React$6.createElement(Box$1,{sx:{padding:"20px",width:"26svw",display:"flex",alignItems:"center",justifyContent:"center",height:"100svh",flexDirection:"column"}},React$6.createElement(Box$1,{className:"FLEX COL"},React$6.createElement(FileExplorer,{fileDirectoryArr:t}),React$6.createElement(Typography,null,getSettings().basic.fileEditLocal?i:""),React$6.createElement(Button,{sx:{mb:"10px"},onClick:async()=>{try{const l=await fileManager.openSingleFile();if(r(l?.name??""),l){alertUseArco("Ê≠£Âú®ÊâìÂºÄÊú¨Âú∞Êñá‰ª∂ÔºåÂà´ÊÄ•Ôºå‰Ω†ÁªôÊàëÁ≠â‰ºöüòÖ");const d=await fileManager.readFile();d&&(replaceMonacoAll(window.monaco,window.editor,d),alertUseArco(`ÊâìÂºÄ${l?.name}ÊàêÂäüÔºÅüòÄ`))}else alertUseArco("Â∑¶È°æÂè≥ÁõºÔºåÊ¥ªÂú®Ê¢¶Âπª?",2500,{kind:"warning"})}catch{alertUseArco("Â∞ºÁéõÁöÑÊä•Èîô‰πêü§£",2e3,{kind:"error"})}},variant:"contained",color:"primary"},"ÊâìÂºÄÊñá‰ª∂"),React$6.createElement(Button,{sx:{mb:"10px"},variant:"contained",disabled:!0,color:"primary",onClick:async()=>{}},"ÊâìÂºÄÊñá‰ª∂Â§π"),React$6.createElement(Button,{sx:{mb:"10px"},variant:"contained",onClick:()=>{fileManager.saveAsFile(getMdTextFromMonaco())}},"Âè¶Â≠ò‰∏∫"),React$6.createElement(Box$1,{className:"FLEX COW ALI-CEN"},React$6.createElement(Typography,{sx:{mr:"10px",fontSize:"17px"},color:a.palette.info.contrastText},"ÂêåÊ≠•Êú¨Âú∞ÁºñËæë"),React$6.createElement(IOSSwitch,{checked:getSettings().basic.fileEditLocal,size:"small",inputProps:{"aria-label":"controlled"},onChange:s}))))))}),React$5=window.React,kit$2=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default,Suspense$1=window.React.Suspense,LazyMenu=React$5.lazy(()=>__vitePreload(()=>import("./Menu-0a176324.js"),["./Menu-0a176324.js","./@mui-d7cd678e.js","./react-2b221fbb.js","./@babel-f8d566ba.js","./clsx-0839fdbe.js","./@emotion-d13e5fae.js","./hoist-non-react-statics-3f8ebaa8.js","./stylis-79144faa.js","./react-is-e5978b8b.js","./react-transition-group-bc100b23.js","./@popperjs-61ffd834.js","./prop-types-7395632d.js","./mobx-react-1c6baff6.js","./mobx-3741033e.js","./mobx-react-lite-1ad052b5.js","./use-sync-external-store-b84fba6b.js","./react-dom-d3bdc6a0.js","./bigonion-kit-f58b431d.js","./@monaco-editor-863e66c9.js","./state-local-dd516420.js","./react-resizable-8f73e4ed.js","./react-draggable-b033082a.js","..\\f65e29ed.react-resizable.css"],import.meta.url)),runTo=(e,t)=>{kit$2.sleep(t).then(()=>{window.location.href=e})},handleHomeClick=()=>{runTo("https://bigonion.cn",300)},boxShadow="0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);",drawerWidth=240,DrawerAppBar=observer(e=>{const t=useTheme(),{window:n}=e,[i,r]=React$5.useState(!1),a=()=>{r(d=>!d)},o=n!==void 0?()=>n().document.body:void 0,s=()=>{alertUseArco("Ê≠§ÂäüËÉΩ‰ªçÁÑ∂Âú®ÂºÄÂèë‰∏≠",3e3,{kind:"info"})},l=React$5.createElement(Box$1,{onClick:a,sx:{textAlign:"center",height:"100%",bgcolor:"black"}},React$5.createElement(Typography,{variant:"h2",sx:{fontSize:"20px",my:2,color:"wheat",textAlign:"center",boxShadow}},"Markdown+ Online View"),React$5.createElement(List,{sx:{height:"100%",bgcolor:"background.paper"}},React$5.createElement(ListItem,null,React$5.createElement(ListItemButton,{onClick:handleHomeClick},React$5.createElement(ListItemAvatar,null,React$5.createElement(Avatar,null,React$5.createElement(default_1$c,null))),React$5.createElement(ListItemText,{primary:"Home",secondary:""}))),React$5.createElement(ListItem,null,React$5.createElement(ListItemButton,{onClick:s},React$5.createElement(ListItemAvatar,null,React$5.createElement(Avatar,null,React$5.createElement(default_1$7,null))),React$5.createElement(ListItemText,{primary:"Photos",secondary:""}))),React$5.createElement(ListItem,null,React$5.createElement(ListItemButton,{onClick:myPrint},React$5.createElement(ListItemAvatar,null,React$5.createElement(Avatar,null,React$5.createElement(default_1$d,null))),React$5.createElement(ListItemText,{primary:"Export",secondary:""}))),React$5.createElement(ListItem,null,React$5.createElement(ListItemButton,{onClick:()=>{aboutBox()}},React$5.createElement(ListItemAvatar,null,React$5.createElement(Avatar,null,React$5.createElement(default_1$e,null))),React$5.createElement(ListItemText,{primary:"About",secondary:""})))));return React$5.createElement(React$5.Fragment,null,React$5.createElement("div",{className:"FLEX header-app-bar",style:{flex:"0 0 8.7vh"}},React$5.createElement(CssBaseline,null),React$5.createElement(AppBar,{component:"nav",sx:{position:"inherit",justifyContent:"center",zIndex:100,height:"8.7vh",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"}},React$5.createElement(Toolbar,null,React$5.createElement(IconButton,{color:"inherit",onClick:a,sx:{mr:200,display:{sm:"none"}}},React$5.createElement(default_1$8,null)),React$5.createElement(default_1$9,{sx:{color:t.palette.mode=="light"?"black":"white",display:{xs:"none",md:"flex"},transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",mr:1}}),React$5.createElement(Typography,{variant:"h1",component:"a",fontFamily:"monospace",href:"/",sx:{flexGrow:1,display:{xs:"none",sm:"block"},color:t.palette.mode==="light"?t.palette.primary.contrastText:t.palette.secondary.contrastText,fontFamily:"emoji",letterSpacing:".3rem",textDecoration:"none"}},React$5.createElement("h2",{style:{fontSize:"28px"}},"Markdown+ Online View")),React$5.createElement(Box$1,{sx:{display:{xs:"none",sm:"flex",flexDirection:"row"}}},React$5.createElement(CustomizedButtons,{href:"https://bigonion.cn",startIcon:React$5.createElement(default_1$a,null)},"È¶ñÈ°µ"),React$5.createElement(CustomizedButtons,{onClick:()=>{aboutBox()},startIcon:React$5.createElement(default_1,null)},"ÂÖ≥‰∫é"),React$5.createElement(Suspense$1,{fallback:React$5.createElement(CustomizedButtons,{open,endIcon:React$5.createElement(default_1$b,null)},"Êõ¥Â§ö")},React$5.createElement(LazyMenu,null)),React$5.createElement(TemporaryDrawer,null),React$5.createElement(FileDrawer,null)))),React$5.createElement(Box$1,{sx:{display:{xs:"flex",sm:"none"}},component:"nav"},React$5.createElement(Drawer,{container:o,variant:"temporary",open:i,onClose:a,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:drawerWidth}}},l))))});async function save(e=null,t=!0){let n=getMdTextFromMonaco(),i="";if(t&&n!="null")try{fillInMemoryText(n),getSettings().basic.fileEditLocal?await new FileManager(window._fileHandle).saveFileSilently(n)?i="ÊàêÂäü‰øùÂ≠òÂà∞Êú¨Âú∞ÔºÅüéâ":i="ÊàêÂäü‰øùÂ≠òÂà∞ÊµèËßàÂô®ÔºÅüéâ(Êú™ÊâìÂºÄÊú¨Âú∞Êñá‰ª∂)":i="ÊàêÂäü‰øùÂ≠òÂà∞ÊµèËßàÂô®ÔºÅüéâ",alertUseArco(i)}catch{alertUseArco("‰Ω†Á´üÊï¢ÊãíÁªùÊàë„ÄÇ",2500,{kind:"error"})}else save()}async function isSaved(){return await readMemoryText().then(e=>e?e[0]?.contentText===getMdTextFromMonaco():!1)}function exeSyncScrollAction(e,t){if(getSettings().basic.syncScroll)alertUseArco("ÂêåÊ≠•ÊªöÂä®Â∑≤ÂÖ≥Èó≠ üßê ",2e3),changeSettings({basic:{syncScroll:!1}});else{alertUseArco("ÂêåÊ≠•ÊªöÂä®Â∑≤ÂºÄÂêØ üòç ",2e3);const n=e.getScrollTop();e.setScrollTop(n+.3),e.setScrollTop(n-.3);const i=e.getVisibleRanges();if(i.length>0){const a=i[0].startLineNumber,o=document.getElementById("view-area");a==1&&o.scrollTo({top:0,behavior:"smooth"})}changeSettings({basic:{syncScroll:!0}})}}function exeFileManagerAction(e,t){getFileManagerState()?changeFileManagerState(!1):changeFileManagerState(!0)}function enableFastKeyEvent(){document.addEventListener("keydown",e=>{e.ctrlKey&&e.key=="q"&&(e.stopPropagation(),e.preventDefault(),exeSyncScrollAction(window.editor)),e.ctrlKey&&(e.altKey||e.shiftKey)&&e.key=="f"&&(e.stopPropagation(),e.preventDefault(),exeFileManagerAction()),e.ctrlKey&&e.key=="s"&&(e.stopPropagation(),e.preventDefault(),save()),e.ctrlKey&&e.key=="b"},!0)}function monacoPasteEvent(e,t){e.getContainerDomNode().addEventListener("paste",n=>{handlePasteEvent(n).then(i=>{if(i){let r="",a=new Date().getTime();for(let o=0;o<=i.length-1;o++)r+=`![ÊàëÊòØÂõæÁâá](/vf/${a+o})`;fillInMemoryImgs(i,a),insertTextMonacoAtCursor(r,!0)}})},!0)}function handlePasteEvent(e){return new Promise(t=>{let i=e.clipboardData.items;const r=i.length;let a=[];for(let o=0;o<i.length;o++){let s=i[o];if(s.kind=="file"){e.preventDefault(),e.stopPropagation();let l=s.getAsFile(),d=new FileReader;d.onload=function(m){a.push(m.target.result),o===r-1&&t(a)};const c=l.type.split("/")[1];(c==="png"||c==="jpg"||c==="jpeg"||c==="webp"||c==="svg")&&d.readAsDataURL(l)}else t([])}})}let lock=!1,triggerTime=0;function triggerConverterEvent(e=2){let t,n;triggerTime++,lock?(clearTimeout(t),t=setTimeout(function(){mdConverter(),triggerTime=0},300)):(clearTimeout(n),triggerTime>=e?(lock=!0,mdConverter(),n=setTimeout(()=>{lock=!1,triggerTime=0},200)):mdConverter())}function getCommandPaletteText(){return document.getElementsByClassName("ibwrapper")[0]?document.getElementsByClassName("ibwrapper")[0].children[0].value:""}function exeTableAction(){console.log(getCommandPaletteText().split("#"));const e=getCommandPaletteText().split("#")[1],t=getCommandPaletteText().split("#")[2];insertTextMonacoAtCursor(generateMarkdownTable(e,t),!0)}function generateMarkdownTable(e,t){if(!e||!t)return"";let n="| ";for(let i=0;i<t;i++)n+=`Header  ${i+1} | `;n+=`
|`;for(let i=0;i<t;i++)n+="--- | ";for(let i=0;i<e;i++){n+=`
| `;for(let r=0;r<t;r++)n+=` Cell ${i+1}-${r+1} | `}return n}const kit$1=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default,html2canvas=(await importModule("https://cdn.jsdmirror.com/npm/html2canvas@1.4.1/+esm")).default;function exportAsImage(e=3,t="markdown.jpeg"){let n=document.getElementById("view-area").innerHTML;window.document.body.innerHTML=`<div id="exportBox" style="width:64vw" class="markdown-body markdown-body-${getTheme()==="light"?"light":"dark"}">${n}</div>`,kit$1.sleep(250).then(()=>{html2canvas(document.getElementById("exportBox"),{scale:e}).then(i=>{let r=i.toDataURL("image/png",.6);var a=document.createElement("a");a.download=t,a.href=r,a.click()}),kit$1.sleep(2e3).then(()=>{window.location.reload()})})}function exeInsertPageBreakerAction(){insertTextMonacoAtCursor(`|---|
`,!0)}function exeLatexBlockAction(e,t){const n=e.getPosition();n.column==1&&(insertTextMonacoAtCursor(`$$

$$`,!0),e.setPosition({column:1,lineNumber:n.lineNumber+1}))}function exeEmojiPickerAction(e,t){getEmojiPickerState()==="on"?changeEmojiPickerState("off"):changeEmojiPickerState("on")}let speechRecognition=(e,t=!0,n)=>{const i=new webkitSpeechRecognition||new SpeechRecognition;let r=!1;return i.lang=e,i.continuous=!0,i.interimResults=!1,t&&i.start(),i.onstart=()=>{r=!0},i.onresult=a=>{let o=a.results[a.results.length-1][0].transcript;o=o.replace(/¬†/g,""),window._speechData.speechResult=o,n(o.length),r===!1&&i.stopRecognition()},i.onerror=function(a){a.error=="not-allowed"?alertUseArco("ËØ≠Èü≥ÊùÉÈôêË¢´ÊãíÁªùÔºå‰∏ñÁïåÔºåÊãíÁªù‰∫ÜÊàë...",4500):console.log("ËØ≠Èü≥ËØÜÂà´ÈîôËØØ:",a.error)},i.onend=()=>{console.log(r),r&&i.start()},i.stopRecognition=()=>{i.stop(),r=!1},{recognition:i,recognizing:r}};const speechLanguageMap=[["zh-CN","ÊôÆÈÄöËØù"],["en-US","English"],["ja-JP","Êó•Êú¨Ë™û"],["fr-ch","Ê≥ïËØ≠ÔºàÁëûÂ£´Ôºâ"],["ko","Èü©ËØ≠"]];function exeSpeechPanelAction(e,t){const n=getSettings().basic.speechLanguage??"zh-CN";let i=r=>{insertTextMonacoAtCursor(window._speechData.speechResult,!0)};if(window._speechData.processing)alertUseArco("ËØ≠Èü≥ËØÜÂà´Â∑≤ÂÖ≥Èó≠ÔºåÂóØ‰Ω†Èó≠Âò¥ÂêßÔºåÊàë‰∏çÂê¨...",2e3),window._speechData.processing=!1,window._speechData.speech.stopRecognition(),window._speechData.speech=null,window._speechData.speechResult="";else{alertUseArco("ËØ≠Èü≥ËØÜÂà´Â∑≤ÂºÄÂêØÔºåÂóØ‰Ω†ËØ¥ÔºåÊàëÂú®Âê¨...",3e3),window._speechData.processing=!0;let{recognition:r}=speechRecognition(n,!0,i);window._speechData.speech=r}}function exeBoldAction(e,t){const n=e.getSelection();let r=e.getModel().getValueInRange(n),a;r.startsWith("**")&&r.endsWith("**")?a=r.slice(2,-2):a=`**${r}**`;var s=new t.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(e.executeEdits("my-source",[{range:s,text:a,forceMoveMarkers:!1}]),a!==r){const l=new t.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.startColumn+a.length);e.setSelection(l)}}function exeAlignRightAction(e,t){const n=e.getSelection(),i=e.getModel(),r=n.startLineNumber,a=i.getLineContent(r),o=a.length;let s="",l=o+1,d=o+1;const c=a.slice(-2);c===">>"?(s="",l=o-1):c==="||"?(s=">>",l=o-1):s=">>";const m=new t.Range(r,l,r,d);e.executeEdits("my-source",[{range:m,text:s,forceMoveMarkers:!0}]);const u=new t.Selection(r,l+s.length,r,l+s.length);e.setSelection(u)}function exeAlignCenterAction(e,t){const n=e.getSelection(),i=e.getModel(),r=n.startLineNumber,a=i.getLineContent(r),o=a.length;let s="",l=o+1,d=o+1;const c=a.slice(-2);c==="||"?(s="",l=o-1):c===">>"?(s="||",l=o-1):s="||";const m=new t.Range(r,l,r,d);e.executeEdits("my-source",[{range:m,text:s,forceMoveMarkers:!0}]);const u=new t.Selection(r,l+s.length,r,l+s.length);e.setSelection(u)}function exeItalicsAction(e,t){const n=e.getSelection();let r=e.getModel().getValueInRange(n),a;r.startsWith("*")&&r.endsWith("*")?a=r.slice(1,-1):a=`*${r}*`;var s=new t.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(e.executeEdits("my-source",[{range:s,text:a,forceMoveMarkers:!1}]),a!==r){const l=new t.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.startColumn+a.length);e.setSelection(l)}}function exeUnderlineAction(e,t){const n=e.getSelection();let r=e.getModel().getValueInRange(n),a;r.startsWith("<u>")&&r.endsWith("</u>")?a=r.slice(3,-4):a=`<u>${r}</u>`;var s=new t.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(e.executeEdits("my-source",[{range:s,text:a,forceMoveMarkers:!1}]),a!==r){const l=new t.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.startColumn+a.length);e.setSelection(l)}}function exeDeleteLinection(e,t){const n=e.getSelection();let r=e.getModel().getValueInRange(n),a;r.startsWith("~~")&&r.endsWith("~~")?a=r.slice(2,-2):a=`~~${r}~~`;var s=new t.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn);if(e.executeEdits("my-source",[{range:s,text:a,forceMoveMarkers:!1}]),a!==r){const l=new t.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.startColumn+a.length);e.setSelection(l)}}function exeHeadingAction(e,t,n){const i=e.getSelection(),r=new t.Range(i.startLineNumber,1,i.startLineNumber,1),a=e.getModel().getLineContent(i.startLineNumber),o=/^(#+) /,s=a.match(o);if(!(["$"].includes(a[0])||a.match("```")))if(s&&s[1].length===n){console.log(a);const l=a.slice(s[0].length);e.executeEdits("",[{range:new t.Range(i.startLineNumber,1,i.startLineNumber,a.length+1),text:l}])}else{const l="#".repeat(n)+" ",d=s?new t.Range(i.startLineNumber,1,i.startLineNumber,s[0].length+1):r;e.executeEdits("",[{range:d,text:l}])}}const kit=(await importModule("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default;function monacoKeyEvent(e,t){const n={save:t.KeyMod.CtrlCmd|t.KeyCode.KeyS,quotation:t.KeyMod.Shift|t.KeyCode.Quote,format:t.KeyMod.Shift|t.KeyCode.KeyF,pageBreaker:t.KeyMod.CtrlCmd|t.KeyMod.Alt|t.KeyCode.Enter,latexBlock:t.KeyMod.CtrlCmd|t.KeyCode.KeyM,voice2Words:t.KeyMod.CtrlCmd|t.KeyMod.Alt|t.KeyCode.KeyV,syncScroll:t.KeyMod.CtrlCmd|t.KeyCode.KeyQ,fileManager:t.KeyMod.CtrlCmd|t.KeyMod.Shift|t.KeyCode.KeyF,markdownTextEditFastKey:{bold:t.KeyMod.CtrlCmd|t.KeyCode.KeyB,italics:t.KeyMod.CtrlCmd|t.KeyCode.KeyI,underline:t.KeyMod.CtrlCmd|t.KeyCode.KeyU,alignCenter:t.KeyMod.CtrlCmd|t.KeyCode.KeyE,alignRight:t.KeyMod.CtrlCmd|t.KeyCode.KeyR,deleteLine:t.KeyMod.CtrlCmd|t.KeyCode.Backquote,h1:t.KeyMod.CtrlCmd|t.KeyCode.Digit1,h2:t.KeyMod.CtrlCmd|t.KeyCode.Digit2,h3:t.KeyMod.CtrlCmd|t.KeyCode.Digit3,h4:t.KeyMod.CtrlCmd|t.KeyCode.Digit4}};e.addAction({id:"show.emojiPicker",label:"ÊâìÂºÄË°®ÊÉÖÂåÖË∂ÖÂ∏Ç ü§™",keybindings:[],contextMenuGroupId:"navigation",contextMenuOrder:-100,run:()=>{exeEmojiPickerAction()}}),e.addAction({id:"insert.tableAny",label:"ÊèíÂÖ•‰ªªÊÑèË°åÂíåÂàó,Ê†ºÂºè: table#x#x",keybindings:[],run:()=>{exeTableAction()}}),e.addAction({id:"reload-no-cache",label:"Âº∫Âà∂Âà∑Êñ∞MarkdownÂú®Á∫ø",keybindings:[],run:()=>{window.location.reload(!0)}}),e.addAction({id:"export.asPDF",label:"‰øùÂ≠òÂπ∂ÂØºÂá∫‰∏∫PDF",keybindings:[],contextMenuGroupId:"navigation",contextMenuOrder:0,run:async()=>{await isSaved()?myPrint():(save(),kit.sleep(800).then(()=>{myPrint()}))}}),e.addAction({id:"export.asImg",label:"‰Ωú‰∏∫PNGÊ†ºÂºèÁöÑÂõæÁâáÂØºÂá∫",keybindings:[],run:()=>{exportAsImage()}}),e.addAction({id:"insert.pageBreaker",label:"ÊèíÂÖ•‰∏Ä‰∏™ÂàÜÈ°µÁ¨¶",keybindings:[],contextMenuGroupId:"navigation",contextMenuOrder:0,run:()=>{exeInsertPageBreakerAction()}}),e.addAction({id:"insert.latexBlock",label:"ÊèíÂÖ•‰∏Ä‰∏™LaTexËØ≠Ê≥ïÂùó",keybindings:[n.latexBlock],contextMenuGroupId:"navigation",contextMenuOrder:0,run:()=>{exeLatexBlockAction(e)}}),e.addAction({id:"insert.voice2words",label:"ËØ≠Èü≥ËΩ¨ÊñáÂ≠ó...Âòü...ÂñÇ...Âê¨ÂæóËßÅÂêó....",keybindings:[n.voice2Words],contextMenuGroupId:"navigation",contextMenuOrder:1,run:()=>{exeSpeechPanelAction()}}),e.addAction({id:"command.syncScroll",label:"ÂêåÊ≠•ÊªöÂä® (ÂºÄÂêØ/ÂÖ≥Èó≠)",keybindings:[n.syncScroll],contextMenuGroupId:"navigation",run:()=>{exeSyncScrollAction(e)}}),e.addAction({id:"command.fileManagerState",label:"Êñá‰ª∂ÁÆ°ÁêÜÂô® (ÂºÄÂêØ/ÂÖ≥Èó≠)",keybindings:[n.fileManager],contextMenuGroupId:"navigation",run:()=>{exeFileManagerAction()}}),e.addAction({id:"insert.bold",label:"Âä†Á≤óÊñáÊú¨",keybindings:[n.markdownTextEditFastKey.bold],contextMenuGroupId:"navigation",run:()=>{exeBoldAction(e,t)}}),e.addAction({id:"insert.alignRight",label:"ÊñáÊú¨Â±ÖÂè≥",keybindings:[n.markdownTextEditFastKey.alignRight],contextMenuGroupId:"navigation",run:()=>{exeAlignRightAction(e,t)}}),e.addAction({id:"insert.alignCenter",label:"ÊñáÊú¨Â±Ö‰∏≠",keybindings:[n.markdownTextEditFastKey.alignCenter],contextMenuGroupId:"navigation",run:()=>{exeAlignCenterAction(e,t)}}),e.addAction({id:"insert.italics",label:"Êñú‰Ωì",keybindings:[n.markdownTextEditFastKey.italics],run:()=>{exeItalicsAction(e,t)}}),e.addAction({id:"insert.underline",label:"‰∏ãÂàíÁ∫ø",keybindings:[n.markdownTextEditFastKey.underline],run:()=>{exeUnderlineAction(e,t)}}),e.addAction({id:"insert.deleteLine",label:"Âà†Èô§Á∫ø",keybindings:[n.markdownTextEditFastKey.deleteLine],run:()=>{exeDeleteLinection(e,t)}}),e.addAction({id:"insert.h1",label:"Ê†áÈ¢ò1",keybindings:[n.markdownTextEditFastKey.h1],run:()=>{exeHeadingAction(e,t,1)}}),e.addAction({id:"insert.h2",label:"Ê†áÈ¢ò2",keybindings:[n.markdownTextEditFastKey.h2],run:()=>{exeHeadingAction(e,t,2)}}),e.addAction({id:"insert.h3",label:"Ê†áÈ¢ò3",keybindings:[n.markdownTextEditFastKey.h3],run:()=>{exeHeadingAction(e,t,3)}}),e.addAction({id:"insert.h4",label:"Ê†áÈ¢ò4",keybindings:[n.markdownTextEditFastKey.h4],run:()=>{exeHeadingAction(e,t,4)}}),e.addAction({id:"reload",label:"ÈáçÊñ∞Âä†ËΩΩÁ™óÂè£(Reload Window)",keybindings:[],contextMenuGroupId:"navigation",contextMenuOrder:100,run:()=>{window.location.reload()}})}const accents1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).accents1,delimiters0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).delimiters0,delimeterSizing0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).delimeterSizing0,greekLetters0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).greekLetters0,otherLetters0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).otherLetters0,annotation1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).annotation1,verticalLayout0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).verticalLayout0,verticalLayout1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).verticalLayout1,verticalLayout2=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).verticalLayout2,overlap1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).overlap1,spacing0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).spacing0,spacing1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).spacing1,logicAndSetTheory0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).logicAndSetTheory0,logicAndSetTheory1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).logicAndSetTheory1,macros0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).macros0,bigOperators0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).bigOperators0,binaryOperators0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).binaryOperators0,fractions0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).fractions0,fractions2=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).fractions2,binomialCoefficients0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).binomialCoefficients0,binomialCoefficients2=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).binomialCoefficients2,mathOperators0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).mathOperators0,mathOperators1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).mathOperators1,sqrt1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).sqrt1,relations0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).relations0,negatedRelations0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).negatedRelations0,arrows0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).arrows0,extensibleArrows1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).extensibleArrows1,braketNotation1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).braketNotation1,classAssignment1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).classAssignment1,color2=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).color2,font0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).font0,font1=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).font1,size0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).size0,style0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).style0,symbolsAndPunctuation0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).symbolsAndPunctuation0,debugging0=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).debugging0,envs=(await importModule("https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js")).envs;function monacoSnippets(e,t){t.languages.registerCompletionItemProvider("markdown",{triggerCharacters:["/"],provideCompletionItems:(n,i,r)=>{const a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}),o={startLineNumber:i.lineNumber,startColumn:i.column-1,endLineNumber:i.lineNumber,endColumn:i.column};if(!isInLatexBlock(a)&&i.column===2)return{suggestions:[{label:"/code (‰ª£Á†ÅÂùó)",detail:"ÊèíÂÖ•‰∏ÄÊÆµ‰ª£Á†ÅÂùó",kind:t.languages.CompletionItemKind.Function,insertText:"\n```${1:js}\n${2:}\n```\n",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:"0",range:o},{label:"/image (ÂõæÁâá)",detail:"ÊèíÂÖ•ÂõæÁâá",kind:t.languages.CompletionItemKind.Function,insertText:"![${1:}](${2:})",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:"1",range:o},{label:"/table-2x2 (Ë°®Ê†º)",detail:"ÊèíÂÖ•‰∏Ä‰∏™2Ë°å2ÂàóÁöÑË°®Ê†º",kind:t.languages.CompletionItemKind.Function,insertText:"\n|${1:}    |${1:}     |\n|--- |---  |\n|${1:}    |${1:}     |\n",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:"2",range:o},{label:"/table-2x4 (Ë°®Ê†º)",detail:"ÊèíÂÖ•‰∏Ä‰∏™2Ë°å4ÂàóÁöÑË°®Ê†º",kind:t.languages.CompletionItemKind.Function,insertText:"\n|${1:}    |${1:}    |${1:}    |${1:}    |\n|--- |--- |--- |--- |\n|${1:}    |${1:}    |${1:}    |${1:}    |\n",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:"3",range:o},{label:"/latex-block (ÂÖ¨ÂºèÂùó)",detail:"ÂàõÂª∫‰∏Ä‰∏™LaTexÂÖ¨ÂºèÂùó",kind:t.languages.CompletionItemKind.Field,sortText:"4",range:o,insertText:`$$
\${1:}
$$
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/list-in-order (ÊúâÂ∫èÂàóË°®)",detail:"ÂàõÂª∫ÊúâÂ∫èÂàóË°®",kind:t.languages.CompletionItemKind.Function,sortText:"5",range:o,insertText:`
1. \${1:}
2. \${2:}
3. \${3:}
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/page-breaker (ÂàÜÈ°µÁ¨¶)",detail:"ÊèíÂÖ•‰∏Ä‰∏™ÂàÜÈ°µÁ¨¶",kind:t.languages.CompletionItemKind.Function,sortText:"6",range:o,insertText:`
|---|
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/mermaid-flowChart (ÊµÅÁ®ãÂõæ)",detail:"ÊèíÂÖ•mermaidÊµÅÁ®ãÂõæ",kind:t.languages.CompletionItemKind.Function,sortText:"7",range:o,insertText:"\n```mermaid\nflowchart TB\nStart --> Stop\n```\n",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/mermaid-pie-chart (È•ºÂõæ)",detail:"ÊèíÂÖ•mermaidÈ•ºÂõæ",kind:t.languages.CompletionItemKind.Function,sortText:"8",range:o,insertText:'\n```mermaid\npie title ${1:Pets adopted by volunteers}\n    "Dogs" : 386\n    "Cats" : 85\n    "Rats" : 15\n```\n',insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/mermaid-mind-map (ÊÄùÁª¥ÂØºÂõæ)",detail:"ÊèíÂÖ•mermaidÊÄùÁª¥ÂØºÂõæ",kind:t.languages.CompletionItemKind.Function,sortText:"9",range:o,insertText:`
\`\`\`mermaid
mindmap
Root
    A
      B
      C
\`\`\`
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/mermaid-time-line (Êó∂Èó¥Á∫øÂõæ)",detail:"ÊèíÂÖ•mermaidÊó∂Èó¥Á∫øÂõæ",kind:t.languages.CompletionItemKind.Function,sortText:"a1",range:o,insertText:`
\`\`\`mermaid
timeline
    title History of Social Media Platform
    2002 : LinkedIn
    2004 : Facebook
         : Google
    2005 : Youtube
    2006 : Twitter
\`\`\`
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/mermaid-sequence (Â∫èÂàóÂõæ)",detail:"ÊèíÂÖ•mermaidÂ∫èÂàóÂõæ",kind:t.languages.CompletionItemKind.Function,sortText:"a2",range:o,insertText:`
\`\`\`mermaid
sequenceDiagram
    Alice->>+John: Hello John, how are you?
    Alice->>+John: John, can you hear me?
    John-->>-Alice: Hi Alice, I can hear you!
    John-->>-Alice: I feel great!
\`\`\`
`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet},{label:"/prettier-ignore (ÂøΩÁï•Ê†ºÂºèÂåñË°å)",detail:"‰∏ã‰∏ÄË°å‰∏çËøõË°åprettierÊ†ºÂºèÂåñ",kind:t.languages.CompletionItemKind.Function,insertText:"<!-- prettier-ignore -->",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o,sortText:"b1"},{label:"/prettier-ignore-block (ÂøΩÁï•Ê†ºÂºèÂåñÂùó)",detail:"ÂøΩÁï•prettierÊ†ºÂºèÂåñÂùó",kind:t.languages.CompletionItemKind.Function,insertText:`<!-- prettier-ignore-start -->
\${1:}
<!-- prettier-ignore-end -->`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:o,sortText:"b2"}]}}}),t.languages.registerCompletionItemProvider("markdown",{triggerCharacters:["\\"],provideCompletionItems:(n,i,r)=>{const a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(isNeedToUseLatexIntellisense(t,n,a,i)){const o=Array.from([...delimiters0,...delimeterSizing0,...greekLetters0,...otherLetters0,...spacing0,...verticalLayout0,...logicAndSetTheory0,...macros0,...bigOperators0,...binaryOperators0,...binomialCoefficients0,...fractions0,...mathOperators0,...relations0,...negatedRelations0,...arrows0,...font0,...size0,...style0,...symbolsAndPunctuation0,...debugging0],(c,m)=>({label:`\\${c}`,kind:t.languages.CompletionItemKind.Function,insertText:c,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:/[A-Z]/.test(c[0])?"1":"0"})),s=Array.from([...accents1,...annotation1,...verticalLayout1,...overlap1,...spacing1,...logicAndSetTheory1,...mathOperators1,...sqrt1,...extensibleArrows1,...font1,...braketNotation1,...classAssignment1],(c,m)=>({label:`\\${c}`,kind:t.languages.CompletionItemKind.Function,insertText:`${c}{$1}`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:/[A-Z]/.test(c[0])?"1":"0"})),l=Array.from([...verticalLayout2,...binomialCoefficients2,...fractions2,...color2],(c,m)=>({label:`\\${c}`,kind:t.languages.CompletionItemKind.Function,insertText:`${c}{$1}{$2}`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,sortText:/[A-Z]/.test(c[0])?"1":"0"})),d=[{label:"\\begin",kind:t.languages.CompletionItemKind.Function,insertText:"begin{${1|"+envs.join(",")+`|}}
	$2
\\end{$1}`,insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet}];return{suggestions:[...o,...s,...l,...d]}}}}),t.languages.registerCompletionItemProvider("markdown",{triggerCharacters:["^"],provideCompletionItems:(n,i,r)=>{const a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(isNeedToUseClueIntellisense(a))return{suggestions:[{label:"RED",kind:t.languages.CompletionItemKind.Function,insertText:"RED",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"RED..."},{label:"PINK",kind:t.languages.CompletionItemKind.Function,insertText:"PINK",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"PINK..."}]}}}),t.languages.registerCompletionItemProvider("markdown",{provideCompletionItems:(n,i,r)=>{const a=n.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(isNeedToUseCodeIntellisense(a))return{suggestions:[{label:"RED",kind:t.languages.CompletionItemKind.Function,insertText:"RED",insertTextRules:t.languages.CompletionItemInsertTextRule.InsertAsSnippet,detail:"RED..."}]}}})}function isNeedToUseLatexIntellisense(e,t,n,i){return!!(n[n.length-1]==="\\"&&(isInLatexBlock(n)||isInLatexInline(t,i)))}function isInLatexBlock(e){return e.match(/\$\$/g)?e.match(/\$\$/g).length%2===1:!1}function isInLatexInline(e,t,n){const i=e.getLineContent(t.lineNumber),r=/\$(?!\s)((\\\$|[^\$\n])*?)(?<!\s)\$/g;if(i.match(r)){const a=i,s=window.editor.getPosition().column-1,l=[];let d;for(;(d=r.exec(a))!==null;){const m=d.index+1,u=r.lastIndex-1;l.push({startIndex:m,endIndex:u})}return l.some(m=>s>m.startIndex&&s<=m.endIndex)}else return!1}function isNeedToUseClueIntellisense(e){return e[e.length-1]==="^"}function isNeedToUseCodeIntellisense(e){return e.match(/\`\`\`js/g)?(window.monaco.editor.setModelLanguage(window.editor.getModel(),"javascript"),!0):(window.monaco.editor.setModelLanguage(window.editor.getModel(),"markdown"),!1)}const prettier=(await importModule("https://cdn.jsdmirror.com/npm/prettier@3.2.4/+esm")).default,parseMd=(await importModule("https://cdn.jsdmirror.com/npm/prettier@3.2.4/plugins/markdown.js/+esm")).default;function monacoFormat(e,t){t.languages.registerDocumentFormattingEditProvider("markdown",{provideDocumentFormattingEdits(n){let i=n.getValue();var r=e.getPosition();return prettier.format(i,{parser:"markdown",plugins:[parseMd]}).then(a=>{replaceMonacoAll(window.monaco,e,a),e.setPosition(r)}),[]}})}function getDeviceTyByProportion(){const e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;return e/t>=1?"PC":"mobile"}function monacoMouseEvent(e,t){e.onContextMenu(n=>{setContextMenuClickPosition({posx:n.event.posx,posy:n.event.posy})})}function monacoClickEvent(e,t){e.onDidFocusEditorWidget(()=>{window._deco.clear()})}function monacoResizeHeightEvent(e){const t=()=>{e(Math.floor(window.innerHeight*.9))};window.addEventListener("resize",t)}function monacoScrollEvent(e,t){const n=debounce(()=>{syncScrollOnce(e)},20);e.onDidScrollChange(n)}function syncScrollOnce(e,t){if(getSettings().basic.syncScroll){const n=e.getVisibleRanges();if(n.length>0){const r=n[0].startLineNumber;syncScroll(r-1)}}}function syncScroll(e){const t=document.getElementById("view-area");if(!t)return;if(e===0){t.scrollTo({top:0,behavior:"smooth"});return}const n=document.querySelectorAll("#view-area [data-line]");let i=null,r=null,a=1/0,o=1/0,s=null;if(n.forEach(l=>{const c=parseInt(l.getAttribute("data-line")||"0",10)-e;c==0?s=l:(c<0&&Math.abs(c)<a&&(a=Math.abs(c),i=l),c>0&&c<o&&(o=c,r=l))}),s){t.scrollTo({top:s.offsetTop,behavior:"smooth"});return}if(!r){t.scrollTo({top:i.offsetTop,behavior:"smooth"});return}if(i&&r){const l=i.offsetTop,d=r.offsetTop,c=(e-(e-a))/(o+a),m=(d-l)*c+l;t.scrollTo({top:m,behavior:"smooth"})}}const React$4=window.React,useState=window.React.useState,version="0.45.0",cdnDomain={unpkg:["npm.onmicrosoft.cn","unpkg.com","npm.elemecdn.com"],jsDelivr:["jsd.onmicrosoft.cn","www.jsdelivr.com","cdn.jsdmirror.com"]},cdnLinks={unpkg:{cdn:`https://${cdnDomain.unpkg[0]}/monaco-editor@${version}/dev/vs`},jsDelivr:{cdn:`https://${cdnDomain.jsDelivr[2]}/npm/monaco-editor@${version}/dev/vs`}};try{loader.config({paths:{vs:cdnLinks.jsDelivr.cdn}})}catch(e){loader.config({paths:{vs:cdnLinks.jsDelivr.cdn}})}const files={"index.py":{name:"index.py",language:"python",value:""},"index.js":{name:"index.js",language:"javascript",value:"nihao"},"index.md":{name:"index.md",language:"markdown",value:""}},MonacoEditor=observer(function e(){const t=React$4.useRef(null),[n,i]=React$4.useState(!0),r=()=>{i(!1)},[a,o]=React$4.useState(640),[s,l]=React$4.useState(800),d=()=>{mdConverter(!0),setTimeout(()=>{m(g=>({...g,minimap:{enabled:!0}}))},300)},[c,m]=useState({fontSize:16,wordWrap:"on",formatOnType:!0,formatOnPaste:!1,fontLigatures:!0,autoSurround:"quotes",autoClosingQuotes:"always",smoothScrolling:!0,codeLens:!1,pasteAs:{enabled:!1,showPasteSelector:"never"},peekWidgetDefaultFocus:"tree",cursorSmoothCaretAnimation:"explicit",colorDecorators:!0,minimap:{enabled:!0},unicodeHighlight:{nonBasicASCII:!1,ambiguousCharacters:!1}}),[u,h]=useState("index.md"),p=files[u];function f(g){triggerConverterEvent(4)}function y(g,w){getDeviceTyByProportion()=="PC"&&o(document.getElementById("editor").clientWidth/2),l(document.getElementById("editor").clientHeight),w.languages.setLanguageConfiguration("markdown",{autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/*",close:"*/",notIn:["string"]},{open:"Ôºü",close:"Ôºü",notIn:["string","comment"]}]}),w.languages.setMonarchTokensProvider("markdown",{tokenizer:{root:[[/\b(function|return|var)\b/,"keyword"],[/\|\|/,"string"],[/>>/,"string"],[/[{}]/,"delimiter"],[/[a-z_$][\w$]*/,"identifier"],[/"[^"]*"/,"string"],[/\d+/,"number"],[/[$$$$]/,"keyword"]]}})}function b(){}function x(g,w){window.editor=g,window.monaco=w,allInit(g,w,r),y(g,w),monacoPasteEvent(g),monacoKeyEvent(g,w),monacoSnippets(g,w),monacoFormat(g,w),monacoMouseEvent(g),monacoClickEvent(g),monacoScrollEvent(g),monacoResizeHeightEvent(l)}return React$4.createElement(React$4.Fragment,null,React$4.createElement("div",{ref:t,id:"monaco-editor",style:{width:a,height:"100%"}},React$4.createElement(ResizableBox,{className:"custom-resizable",width:a,height:s,draggableOpts:{grid:[5,15]},minConstraints:[100,s],onResizeStop:d,onResize:g=>{m(w=>({...w,minimap:{enabled:!1}})),o(g.x)},axis:"x"},React$4.createElement(Ft,{className:"monaco-editor-inner",height:"100%",width:a,theme:getTheme()==="light"?"vs-light":"vs-dark",path:p.name,defaultLanguage:p.language,defaultValue:p.value,onMount:x,onChange:f,options:c,beforeMount:b})),React$4.createElement(Backdrop,{sx:{color:"#fff",zIndex:g=>g.zIndex.drawer+1},open:n,onClick:r},React$4.createElement(CircularProgress,{color:"inherit"}))))}),React$3=window.React;function MdArea(){return React$3.createElement(React$3.Fragment,null,React$3.createElement(MonacoEditor,null))}const React$2=window.React,Suspense=window.React.Suspense,LazyEmojiPicker=React$2.lazy(()=>__vitePreload(()=>import("./EmojiPicker-9ca0dddb.js"),["./EmojiPicker-9ca0dddb.js","./@emoji-mart-3805b488.js","./emoji-mart-029374f1.js","./mobx-react-1c6baff6.js","./mobx-3741033e.js","./mobx-react-lite-1ad052b5.js","./use-sync-external-store-b84fba6b.js","./@mui-d7cd678e.js","./react-2b221fbb.js","./@babel-f8d566ba.js","./clsx-0839fdbe.js","./@emotion-d13e5fae.js","./hoist-non-react-statics-3f8ebaa8.js","./stylis-79144faa.js","./react-is-e5978b8b.js","./react-transition-group-bc100b23.js","./@popperjs-61ffd834.js","./prop-types-7395632d.js","./react-dom-d3bdc6a0.js","./bigonion-kit-f58b431d.js","./@monaco-editor-863e66c9.js","./state-local-dd516420.js","./react-resizable-8f73e4ed.js","./react-draggable-b033082a.js","..\\f65e29ed.react-resizable.css"],import.meta.url));function enEvents(e){e&&enableFastKeyEvent()}const Body=observer(function e(){React$2.useState("");const t=React$2.useRef(null);return React$2.useEffect(()=>{enEvents(!0)},[]),React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{style:{marginTop:"1.3vh"},id:"bodyTopBox"},React$2.createElement("div",{id:"editor",className:`${getTheme()=="light"?"theme-light":"theme-dark"} FLEX ROW`},React$2.createElement(MdArea,null),React$2.createElement("article",{id:"view-area-hidden",className:"hidden-pre"}),React$2.createElement("article",{ref:t,id:"view-area",className:`markdown-body ${getTheme()==="light"?"markdown-body-light":"markdown-body-dark"}`})),React$2.createElement("div",{id:"aboutBox"},React$2.createElement("div",{id:"markdownParser"},React$2.createElement("div",{id:"aboutMd",className:`aboutViewArea markdown-body ${getTheme()==="light"?"markdown-body-light":"markdown-body-dark"}`}))),React$2.createElement(Suspense,{fallback:React$2.createElement(React$2.Fragment,null)},React$2.createElement(LazyEmojiPicker,{open:getEmojiPickerState()==="on"}))))}),React$1=window.React,bothStyle={zIndex:{drawer:1300,modal:1200,appBar:1200}},lightTheme=createTheme({...bothStyle,palette:{primary:{main:blue[200],contrastText:"#fff378"},secondary:{main:green[500],contrastText:"pink"},info:{main:blue[200],contrastText:"#8B8A8A"},mode:"light"}}),darkTheme=createTheme({...bothStyle,palette:{primary:{main:blue[400],contrastText:"wheat"},secondary:{main:green[700],contrastText:"wheat"},info:{main:green[600],contrastText:"#8B8A8A"},mode:"dark"}}),App=observer(()=>(React$1.useEffect(()=>{kit$6.addStyle(`
    ::selection {
      border-radius: 5px;
      background-color: ${getTheme()==="light"?"#add6ff":"#636363"};
    }
    `)},[]),React$1.createElement(React$1.Fragment,null,React$1.createElement(ThemeProvider,{theme:getTheme()==="light"?lightTheme:darkTheme},React$1.createElement(CssBaseline,null),React$1.createElement(Box$1,{className:"FLEX COL App-top"},React$1.createElement(DrawerAppBar,null),React$1.createElement(Body,null)))))),React=window.React;client.createRoot(document.getElementById("root")).render(React.createElement(App,null));export{CustomizedButtons as C,IOSSwitch as I,getMdTextFromMonaco as a,getTheme as b,getSettings as c,normalMermaidTheme as d,exportAsImage as e,normalMermaidThemeMap as f,getRenderHTML as g,changeTheme as h,importModule as i,changeSettings as j,mdConverter as k,save as l,myPrint as m,noteUseArco as n,isSaved as o,changeFileManagerState as p,getContextMenuClickPosition as q,changeEmojiPickerState as r,speechLanguageMap as s,insertTextMonacoAtCursor as t,useImage as u};
