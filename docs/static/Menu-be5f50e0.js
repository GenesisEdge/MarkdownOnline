import{s as L,a7 as he,D as T,a as O,b as D,d as j,a8 as Y,e as V,B as I,a9 as Ee,aa as s,ab as fe,ac as xe,x as h,ad as be,ae as P,af as Ce,F as Se,ag as ke,ah as we,ai as ve,t as $,n as ye,C as Me,aj as Re,ak as G,al as W,am as Ie,an as _e,ao as H,_ as ze,ap as Te,o as g,aq as Be,S as Ae,J as N,j as z,ar as X,Q as $e,as as Fe,at as Pe}from"./@mui-ea53a646.js";import{i as A,g as We,a as Le,m as K,e as Oe,n as De,b as _,I as q,c as F,s as je,d as Ve,f as Ne,h as J,j as B,k as Ue,l as He,C as Xe,o as qe,p as Je,u as Qe}from"./index-3a4fef27.js";import{o as Z}from"./mobx-react-1c6baff6.js";import"./react-2b221fbb.js";import"./@babel-f8d566ba.js";import"./clsx-0839fdbe.js";import"./@emotion-d13e5fae.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./stylis-79144faa.js";import"./react-is-e5978b8b.js";import"./react-transition-group-bc100b23.js";import"./@popperjs-61ffd834.js";import"./prop-types-7395632d.js";import"./react-dom-d3bdc6a0.js";import"./bigonion-kit-f58b431d.js";import"./@monaco-editor-863e66c9.js";import"./state-local-dd516420.js";import"./react-resizable-8f73e4ed.js";import"./react-draggable-b033082a.js";import"./mobx-3741033e.js";import"./mobx-react-lite-1ad052b5.js";import"./use-sync-external-store-b84fba6b.js";const Ye=window.React,U=L(e=>Ye.createElement(he,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e}))(({theme:e})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],"& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:20,color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],marginRight:e.spacing(1.5)}}}})),Ge=(await A("https://cdn.jsdmirror.com/npm/axios@1.6.5/+esm")).default;function Ke(e,o,b){for(var i=document.getElementById("view-area"),r=window.getComputedStyle(i),m=0;m<r.length;m++){var p=r[m];r.getPropertyValue(p)}Ge({url:e,method:o,data:b,headers:{"Content-Type":"application/json"}}).then(w=>{console.log(w)})}const u=window.React,Q=(await A("https://cdn.jsdmirror.com/npm/@arco-design/web-react@2.62.0/+esm")).Notification;function Ze(e){let o=u.useRef(),[b,i]=u.useState(!1),r=p=>{i(()=>!1),e.onClick(p)},m=p=>{let k=o.current.value;Ke("https://service-g12i7wh1-1321514649.sh.apigw.tencentcs.com/release/mail","post",{to:k,subject:"Mailed from Markdown Online+",html:`<div class="markdown-body">${We()}</div>`,raw:0}),r(p),Q.success({title:"邮件发送成功！",content:"Beta版本,请勿重复尝试",position:"topRight"}),Q.info({title:"请注意,邮件发送暂时不能完全支持mermaid和Latex",content:"Beta版本,请勿重复尝试",position:"topRight"}),e.closAll()};return u.createElement(u.Fragment,null,u.createElement(T,{fullWidth:!0,maxWidth:"sm",open:b,onClose:r},u.createElement(O,null,"神奇邮箱"),u.createElement(D,null,u.createElement(j,null,"请输入你要发送到的邮箱",u.createElement("br",null)),u.createElement(Y,{inputRef:o,autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard"})),u.createElement(V,null,u.createElement(I,{onClick:r},"取消"),u.createElement(I,{onClick:m},"发送"))),u.createElement(Ee,null),"分享(开发中)",u.createElement(U,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:e.onClick},u.createElement(s,{onClick:p=>{p.stopPropagation(),i(!0)},disabled:!0,disableRipple:!0},u.createElement(fe,null),"邮箱分享")))}const et=(await A("https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js")).default;function tt(){let e=Le()??"";et.sleep(250).then(()=>{var o=document.createElement("a");o.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),o.download="text.md",o.click()})}const a=window.React;function at(e){let o=e.closeExportMenu;e.closeMenu;let[b,i]=a.useState(!1),r=c=>{console.log(c),o(c),i(()=>!1)},m=a.useRef();const[p,k]=a.useState(3),w=c=>{c.stopPropagation(),k(c.target.value)};let y=c=>{r(c);let d=m.current.value;Oe(p??4,d??"md_snapshot.png"),e.closeMenu(c),De("导出成功！","Beta版本",{kind:"info",position:"topRight"})};return a.createElement(a.Fragment,null,a.createElement(T,{className:"avoid",onClose:r,open:b,fullWidth:!0,maxWidth:"sm"},a.createElement("div",{onClick:c=>{c.stopPropagation()}},a.createElement(O,null,"导出设置"),a.createElement(D,null,a.createElement(j,null,"请选择图片清晰度"),a.createElement("br",null),a.createElement(xe,{fullWidth:!0},a.createElement(h,null,a.createElement(be,{id:"demo-simple-select-label"},"图片清晰度"),a.createElement(P,{label:"图片清晰度",defaultValue:"4",defaultChecked:!0,fullWidth:!0,onChange:w},a.createElement(s,{value:"1"},"1 (比较模糊,体积轻巧)"),a.createElement(s,{value:"2"},"2 (有些模糊)"),a.createElement(s,{value:"4"},"3 (默认,适中,推荐)"),a.createElement(s,{value:"6"},"4 (比较清晰,体积稍大)"),a.createElement(s,{value:"10"},"5 (超鸡无敌霹雳霸清晰,体积较大)"))),a.createElement(h,{marginX:"8px"},a.createElement(Y,{inputRef:m,margin:"dense",id:"export_img_name",defaultValue:"md_snapshot.png",label:"导出的文件名",type:"text",fullWidth:!0,variant:"standard",placeholder:"md_snapshot.png"})))),a.createElement(V,null,a.createElement(I,{onClick:r},"取消"),a.createElement(I,{onClick:y},"确认导出")))),a.createElement(Ce,null),"导出",a.createElement(U,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:c=>{o(c)}},a.createElement(s,{onClick:()=>{K()},disableRipple:!0},a.createElement(Se,null),"导出为PDF"),a.createElement(s,{onClick:c=>{i(!0),o(c)},disableRipple:!0},a.createElement(ke,null),"导出为图片(Beta1.0)"),a.createElement(s,{onClick:()=>{tt()},disableRipple:!0},a.createElement(we,null),"导出为Markdown")))}const x=window.React;function lt(e){return x.createElement(Me,{...e})}const nt=L(ve)(({theme:e})=>({color:e.palette.mode==="light"?e.palette.grey[800]:e.palette.grey[200],[`& .${$.content}`]:{borderRadius:e.spacing(.5),padding:e.spacing(.5,1),margin:e.spacing(.2,0),[`& .${$.label}`]:{fontSize:"0.89rem",fontWeight:500}},[`& .${$.iconContainer}`]:{borderRadius:"80%",backgroundColor:e.palette.mode==="light"?ye(e.palette.primary.main,.45):e.palette.primary.dark,color:e.palette.mode==="dark"&&e.palette.primary.contrastText,padding:e.spacing(0,1.2)}})),R=x.forwardRef((e,o)=>x.createElement(nt,{...e,slots:{groupTransition:lt,...e.slots},ref:o}));function ot(){return x.createElement(x.Fragment,null,x.createElement(h,{className:"transparent-scrollbar",sx:{overflow:"scroll",flex:"0 0 30%",minHeight:20,overflowX:"hidden",borderRight:"solid rgba(0, 0, 0, 0.12)"}},x.createElement(Re,{"aria-label":"customized",defaultExpandedItems:["1_x"],slots:{endIcon:G},sx:{userSelect:"none",minHeight:270,maxWidth:300}},x.createElement(R,{slots:{endIcon:W},onClick:()=>{document.getElementById("settings_1_x").scrollIntoView()},itemId:"1_x",label:"基础设置"},x.createElement(R,{slots:{endIcon:Ie},onClick:()=>{document.getElementById("settings_1_1").scrollIntoView()},itemId:"1_2",label:"主题设置"}),x.createElement(R,{slots:{endIcon:W},onClick:()=>{document.getElementById("settings_1_2").scrollIntoView()},itemId:"1_3",label:"编辑器设置"})),x.createElement(R,{itemId:"2_x",label:"高级设置"},x.createElement(R,{itemId:"2_2",label:"导出设置"}),x.createElement(R,{itemId:"2_3",label:"Mermaid设置"})))))}const v=window.React;function rt(e){e.preventDefault()}function it(){return v.createElement(h,{sx:{marginBottom:"5px"},role:"presentation",onClick:rt},v.createElement(_e,{"aria-label":"breadcrumb"},v.createElement(H,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/"},v.createElement(ze,{sx:{mr:.5},fontSize:"inherit"}),"MUI"),v.createElement(H,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/material-ui/getting-started/installation/"},v.createElement(Te,{sx:{mr:.5},fontSize:"inherit"}),"Basic"),v.createElement(g,{sx:{display:"flex",alignItems:"center"},color:"text.primary"},v.createElement(Be,{sx:{mr:.5},fontSize:"inherit"}),"Theme")))}let ct=L(Ae)(({theme:e})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:e.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));const l=window.React,st=(await A("https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs")).default,mt=Z(function(){const o=_(),b=N(),i={transition:"0.3s",position:"relative",padding:"5px",borderRadius:"3px",display:"flex",flexDirection:"column",mt:"10px",mb:"5px",ml:"0px",pl:"25px","&::before":{content:'""',position:"absolute",left:0,top:0,height:"100%",width:4,backgroundColor:"transparent",transition:"background-color 0.3s"},"&:hover::before":{backgroundColor:o==="light"?"#840084":"#d2d2d2"},"&:hover":{backgroundColor:o==="light"?"#E7E6E5":""}},r={color:b.palette.info.contrastText??"#8B8A8A",fontSize:"0.79rem",fontWeight:500,mb:"5px"},[m,p]=l.useState(!1);function k(d,E){const M=document.querySelector(".markdown-body");E?(J("dark"),p(d.target.checked),console.log(M.style.cssText),M.style.cssText=""):(J("light"),p(d.target.checked),console.log(M.style.cssText))}function w(d,E){E?B({basic:{syncScroll:!0}}):B({basic:{syncScroll:!1}})}function y(d){B({basic:{speechLanguage:d.target.value}})}function c(d){B({advanced:{mermaidTheme:d.target.value}}),st.init({theme:d.target.value}),Ue()}return l.useEffect(()=>{p(_()==="dark")},[_()]),l.createElement(l.Fragment,null,l.createElement(h,{className:"transparent-scrollbar",sx:{width:"100%",padding:"1rem",display:"flex",flexDirection:"column",fontSize:"0.89rem",maxHight:"200px",overflowY:"scroll"}},l.createElement(g,{id:"settings_1_x",sx:{fontSize:"30px",fontWeight:"700"}},"基础设置"),l.createElement(z,null),l.createElement(h,{sx:i},l.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Theme"),l.createElement(g,{sx:r},"更改编辑器的主题"),l.createElement(ct,{checked:m,size:"small",inputProps:{"aria-label":"controlled"},onChange:k})),l.createElement(h,{sx:i},l.createElement(h,{className:"FLEX ROW"},l.createElement(g,{id:"settings_1_2",sx:{fontSize:"0.89rem",fontWeight:500}},"Synchronous Scrolling")),l.createElement(g,{sx:r},"同步滚动左边编辑区和预览区域。(开发中)"),l.createElement(q,{checked:F().basic.syncScroll,size:"small",inputProps:{"aria-label":"controlled"},onChange:w})),l.createElement(h,{sx:i},l.createElement(g,{sx:{fontSize:"0.89rem",fontWeight:500}},"Speech To Text"),l.createElement(g,{sx:r},"选择语音转文字的识别语言"),l.createElement(P,{value:F().basic.speechLanguage??"zh-CN",defaultChecked:!0,fullWidth:!0,size:"small",onChange:y},je.map((d,E)=>l.createElement(s,{key:E,value:d[0]},d[1])))),l.createElement(g,{id:"settings_1_x",sx:{mt:"20px",fontSize:"30px",fontWeight:"700"}},"高级设置（施工中）"),l.createElement(z,null),l.createElement(h,{sx:i},l.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Export Settings"),l.createElement(g,{sx:r},"更改导出设置(施工中)"),l.createElement(q,{disabled:!0,size:"small",inputProps:{"aria-label":"controlled"}})),l.createElement(h,{sx:i},l.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Mermaid Theme Configs"),l.createElement(g,{sx:r},"Mermaid流程图主题"),l.createElement(P,{value:F().advanced.mermaidTheme??"default",defaultChecked:!0,fullWidth:!0,size:"small",color:"primary",onChange:c},Ve.map((d,E)=>l.createElement(s,{key:E,value:d},Ne[E]))))))}),f=window.React;function dt(e){N().palette;const o=_();f.useRef();let[b,i]=f.useState(!1);f.useState("");let r=m=>{i(()=>!1),e.onClick(m),e.closeAll()};return f.useEffect(()=>{}),f.createElement(f.Fragment,null,f.createElement(T,{fullScreen:!1,maxWidth:!1,open:e.open,onClose:r,sx:{height:"100vh"}},f.createElement(h,{sx:{background:o==="light"?"#F8FAFB":"",padding:"1rem",height:"58vh",width:"60vw"}},f.createElement(it,null),f.createElement(z,{sx:{my:.5}}),f.createElement(h,{sx:{height:"48vh",display:"flex",background:o==="light"?"#F8FAFB":"",padding:"5px",flexDirection:"row",borderRradius:"50px",borderRadius:"5px"}},f.createElement(ot,null),f.createElement(mt,null)))),f.createElement(G,null),"设置")}const S=window.React;function ut(e){N().palette;const o=_();let[b,i]=S.useState(!1),r=m=>{i(()=>!1),e.onClick(m),e.closeAll()};return S.useEffect(()=>{}),S.createElement(S.Fragment,null,S.createElement(T,{fullScreen:!1,maxWidth:!1,open:e.open,onClose:r,sx:{height:"100vh"}},S.createElement(h,{sx:{background:o==="light"?"#F8FAFB":"",padding:"1rem",height:"58vh",width:"60vw"}},S.createElement(X,null),S.createElement(z,{sx:{my:.5}}),S.createElement(h,{sx:{height:"48vh",display:"flex",background:o==="light"?"#F8FAFB":"",padding:"5px",flexDirection:"row",borderRradius:"50px",borderRadius:"5px"}}))),S.createElement(X,null),"协同办公(开发中)")}const t=window.React,Ft=Z(()=>{const e=Qe(),[o,b]=t.useState(null),[i,r]=t.useState(null),[m,p]=t.useState(null),[k,w]=t.useState(null),[y,c]=t.useState(null),[d,E]=t.useState(!1),M=!!o,ee=!!i,te=!!m,ae=!!k,le=!!y,ne=n=>{b(n.currentTarget)},oe=n=>{r(n.currentTarget),n.stopPropagation()},re=async n=>{await qe()?(p(n.target),n.stopPropagation()):(n.stopPropagation(),C(),E(!0))},ie=n=>{w(n.currentTarget)},ce=n=>{c(n.currentTarget)},C=()=>{b(null)},se=n=>{r(null),n.stopPropagation()},me=n=>{p(null),n.stopPropagation()},de=n=>{w(null),n.stopPropagation()},ue=n=>{c(null),n.stopPropagation()},pe=()=>{e.display(),C()},ge=()=>{Je(!0),C()};return t.createElement("div",null,t.createElement(T,{open:d,onClose:()=>{E(!1)}},t.createElement(O,null,t.createElement(g,{variant:"h6",gutterBottom:!0},"确定导出吗，你还没有保存呢！")),t.createElement(D,null,t.createElement(j,null,t.createElement(g,{variant:"body1",gutterBottom:!0},'Once you have clicked the "yes" button, your text will be saved.'))),t.createElement(V,null,t.createElement(I,{onClick:()=>{E(!1),He(),K()}},"是嘟"),t.createElement(I,{onClick:()=>{E(!1)},autoFocus:!0},"达咩"))),t.createElement(Xe,{open:M,endIcon:t.createElement($e,null),onClick:ne},"更多"),t.createElement(U,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:o,open:M,onClose:C},t.createElement(s,{onClick:pe,disableRipple:!0},t.createElement(W,null),"图片管理器"),t.createElement(s,{onClick:ge,disableRipple:!0},t.createElement(Fe,null),"文件管理器(实验性)"),t.createElement(s,{onClick:n=>{re(n)},disableRipple:!0},t.createElement(at,{anchorEl:m,open:te,closeMenu:C,closeExportMenu:me})),t.createElement(z,{sx:{my:.5}}),t.createElement(s,{onClick:n=>{oe(n)},disableRipple:!0},t.createElement(Ze,{closeAll:C,anchorEl:i,open:ee,onClick:se})),t.createElement(s,{onClick:n=>{ce(n)},disableRipple:!0},t.createElement(ut,{closeAll:C,anchorEl:y,closeMenu:C,open:le,onClick:ue})),t.createElement(s,{onClick:n=>{ie(n)},disableRipple:!0},t.createElement(dt,{closeAll:C,anchorEl:k,open:ae,onClick:de})),t.createElement(s,{onClick:()=>{C()},disableRipple:!0},t.createElement(Pe,null),"更多(敬请期待)  ")))});export{Ft as default};
