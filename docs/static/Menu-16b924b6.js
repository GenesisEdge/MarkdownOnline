import{s as W,a7 as ie,D as T,a as F,b as L,d as O,a8 as X,e as D,B as y,a9 as ce,aa as d,ab as se,ac as me,x as f,ad as de,ae as $,af as ue,F as pe,ag as ge,ah as he,ai as Ee,t as B,n as fe,C as xe,aj as be,ak as q,al as P,am as Ce,an as Se,ao as N,_ as ke,ap as ve,o as g,aq as we,S as ye,J,j as z,Q as Me,ar as Re,as as Ie}from"./@mui-2be9fea0.js";import{g as _e,a as ze,m as Q,e as Te,n as Be,b as _,I as U,c as A,s as Ae,d as $e,f as Pe,h as j,i as I,j as We,k as Fe,C as Le,l as Oe,o as De,u as Ve}from"./index-31dde687.js";import{o as Y}from"./mobx-react-1a77d2ab.js";import Ne from"https://cdn.jsdmirror.com/npm/axios@1.6.5/+esm";import{Notification as H}from"https://cdn.jsdmirror.com/npm/@arco-design/web-react@2.62.0/+esm";import Ue from"https://cdn.jsdmirror.com/npm/bigonion-kit@0.12.3/esm/kit.min.js";import je from"https://cdn.jsdmirror.com/npm/mermaid@10/dist/mermaid.esm.min.mjs";import"./react-2b221fbb.js";import"./@babel-f8d566ba.js";import"./clsx-0839fdbe.js";import"./@emotion-d13e5fae.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./stylis-79144faa.js";import"./react-is-e5978b8b.js";import"./react-transition-group-bc100b23.js";import"./@popperjs-f3391c26.js";import"./prop-types-7395632d.js";import"./react-dom-d3bdc6a0.js";import"https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.3/@cdn/lib/react-photo-view/react-photo-view.module.js";import"https://cdn.jsdmirror.com/npm/mobx@6.12.0/+esm";import"https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@V2.1.1/@cdn/functions/App/db.min.js";import"https://npm.elemecdn.com/@highlightjs/cdn-assets@11.6.0/es/highlight.min.js";import"https://npm.elemecdn.com/katex@0.16.7/dist/katex.min.js";import"https://npm.elemecdn.com/marked/lib/marked.esm.js";import"https://cdn.jsdmirror.com/npm/markdown-it@8.4.2/+esm";import"https://cdn.jsdmirror.com/npm/markdown-it-multimd-table@4.2.3/+esm";import"https://cdn.jsdmirror.com/npm/markdown-it-github-toc@3.2.4/src/index.js/+esm";import"https://cdn.jsdmirror.com/npm/@hackmd/markdown-it-task-lists@2.1.4/+esm";import"https://cdn.jsdmirror.com/npm/markdown-it-emoji@3.0.0/+esm";import"https://cdn.jsdmirror.com/npm/node-emoji@2.1.3/+esm";import"https://cdn.jsdmirror.com/npm/vconsole@3.15.1/+esm";import"https://cdn.jsdmirror.com/npm/markdown-it-footnote@4.0.0/+esm";import"./@monaco-editor-38e7c7a5.js";import"./state-local-dd516420.js";import"https://cdn.jsdmirror.com/npm/html2canvas@1.4.1/+esm";import"./react-resizable-8f73e4ed.js";import"./react-draggable-b033082a.js";import"https://cdn.jsdmirror.com/gh/LiWeny16/MarkdownOnline@main/@cdn/functions/Monaco/snippets/latexRules.min.js";import"https://cdn.jsdmirror.com/npm/prettier@3.2.4/+esm";import"https://cdn.jsdmirror.com/npm/prettier@3.2.4/plugins/markdown.js/+esm";import"./mobx-react-lite-15e39ab3.js";import"./use-sync-external-store-b84fba6b.js";const He=window.React,V=W(e=>He.createElement(ie,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e}))(({theme:e})=>({"& .MuiPaper-root":{borderRadius:6,marginTop:e.spacing(1),color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],"& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:20,color:e.palette.mode==="light"?"rgb(55, 65, 81)":e.palette.grey[300],marginRight:e.spacing(1.5)}}}}));function Xe(e,n,x){for(var c=document.getElementById("view-area"),o=window.getComputedStyle(c),p=0;p<o.length;p++){var u=o[p];o.getPropertyValue(u)}Ne({url:e,method:n,data:x,headers:{"Content-Type":"application/json"}}).then(S=>{console.log(S)})}const m=window.React;function qe(e){let n=m.useRef(),[x,c]=m.useState(!1),o=u=>{c(()=>!1),e.onClick(u)},p=u=>{let C=n.current.value;Xe("https://service-g12i7wh1-1321514649.sh.apigw.tencentcs.com/release/mail","post",{to:C,subject:"Mailed from Markdown Online+",html:`<div class="markdown-body">${_e()}</div>`,raw:0}),o(u),H.success({title:"邮件发送成功！",content:"Beta版本,请勿重复尝试",position:"topRight"}),H.info({title:"请注意,邮件发送暂时不能完全支持mermaid和Latex",content:"Beta版本,请勿重复尝试",position:"topRight"}),e.closAll()};return m.createElement(m.Fragment,null,m.createElement(T,{fullWidth:!0,maxWidth:"sm",open:x,onClose:o},m.createElement(F,null,"神奇邮箱"),m.createElement(L,null,m.createElement(O,null,"请输入你要发送到的邮箱",m.createElement("br",null)),m.createElement(X,{inputRef:n,autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard"})),m.createElement(D,null,m.createElement(y,{onClick:o},"取消"),m.createElement(y,{onClick:p},"发送"))),m.createElement(ce,null),"分享(开发中)",m.createElement(V,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:e.onClick},m.createElement(d,{onClick:u=>{u.stopPropagation(),c(!0)},disabled:!0,disableRipple:!0},m.createElement(se,null),"邮箱分享")))}function Je(){let e=ze()??"";Ue.sleep(250).then(()=>{var n=document.createElement("a");n.href="data:text/plain;charset=utf-8,"+encodeURIComponent(e),n.download="text.md",n.click()})}const t=window.React;function Qe(e){let n=e.closeExportMenu;e.closeMenu;let[x,c]=t.useState(!1),o=i=>{console.log(i),n(i),c(()=>!1)},p=t.useRef();const[u,C]=t.useState(3),S=i=>{i.stopPropagation(),C(i.target.value)};let M=i=>{o(i);let s=p.current.value;Te(u??4,s??"md_snapshot.png"),e.closeMenu(i),Be("导出成功！","Beta版本",{kind:"info",position:"topRight"})};return t.createElement(t.Fragment,null,t.createElement(T,{className:"avoid",onClose:o,open:x,fullWidth:!0,maxWidth:"sm"},t.createElement("div",{onClick:i=>{i.stopPropagation()}},t.createElement(F,null,"导出设置"),t.createElement(L,null,t.createElement(O,null,"请选择图片清晰度"),t.createElement("br",null),t.createElement(me,{fullWidth:!0},t.createElement(f,null,t.createElement(de,{id:"demo-simple-select-label"},"图片清晰度"),t.createElement($,{label:"图片清晰度",defaultValue:"4",defaultChecked:!0,fullWidth:!0,onChange:S},t.createElement(d,{value:"1"},"1 (比较模糊,体积轻巧)"),t.createElement(d,{value:"2"},"2 (有些模糊)"),t.createElement(d,{value:"4"},"3 (默认,适中,推荐)"),t.createElement(d,{value:"6"},"4 (比较清晰,体积稍大)"),t.createElement(d,{value:"10"},"5 (超鸡无敌霹雳霸清晰,体积较大)"))),t.createElement(f,{marginX:"8px"},t.createElement(X,{inputRef:p,margin:"dense",id:"export_img_name",defaultValue:"md_snapshot.png",label:"导出的文件名",type:"text",fullWidth:!0,variant:"standard",placeholder:"md_snapshot.png"})))),t.createElement(D,null,t.createElement(y,{onClick:o},"取消"),t.createElement(y,{onClick:M},"确认导出")))),t.createElement(ue,null),"导出",t.createElement(V,{style:{width:"fitContent"},anchorOrigin:{vertical:-5,horizontal:12},id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:e.anchorEl,open:e.open,onClick:i=>{n(i)}},t.createElement(d,{onClick:()=>{Q()},disableRipple:!0},t.createElement(pe,null),"导出为PDF"),t.createElement(d,{onClick:i=>{c(!0),n(i)},disableRipple:!0},t.createElement(ge,null),"导出为图片(Beta1.0)"),t.createElement(d,{onClick:()=>{Je()},disableRipple:!0},t.createElement(he,null),"导出为Markdown")))}const E=window.React;function Ye(e){return E.createElement(xe,{...e})}const Ge=W(Ee)(({theme:e})=>({color:e.palette.mode==="light"?e.palette.grey[800]:e.palette.grey[200],[`& .${B.content}`]:{borderRadius:e.spacing(.5),padding:e.spacing(.5,1),margin:e.spacing(.2,0),[`& .${B.label}`]:{fontSize:"0.89rem",fontWeight:500}},[`& .${B.iconContainer}`]:{borderRadius:"80%",backgroundColor:e.palette.mode==="light"?fe(e.palette.primary.main,.45):e.palette.primary.dark,color:e.palette.mode==="dark"&&e.palette.primary.contrastText,padding:e.spacing(0,1.2)}})),w=E.forwardRef((e,n)=>E.createElement(Ge,{...e,slots:{groupTransition:Ye,...e.slots},ref:n}));function Ke(){return E.createElement(E.Fragment,null,E.createElement(f,{className:"transparent-scrollbar",sx:{overflow:"scroll",flex:"0 0 30%",minHeight:20,overflowX:"hidden",borderRight:"solid rgba(0, 0, 0, 0.12)"}},E.createElement(be,{"aria-label":"customized",defaultExpandedItems:["1_x"],slots:{endIcon:q},sx:{userSelect:"none",minHeight:270,maxWidth:300}},E.createElement(w,{slots:{endIcon:P},onClick:()=>{document.getElementById("settings_1_x").scrollIntoView()},itemId:"1_x",label:"基础设置"},E.createElement(w,{slots:{endIcon:Ce},onClick:()=>{document.getElementById("settings_1_1").scrollIntoView()},itemId:"1_2",label:"主题设置"}),E.createElement(w,{slots:{endIcon:P},onClick:()=>{document.getElementById("settings_1_2").scrollIntoView()},itemId:"1_3",label:"编辑器设置"})),E.createElement(w,{itemId:"2_x",label:"高级设置"},E.createElement(w,{itemId:"2_2",label:"导出设置"}),E.createElement(w,{itemId:"2_3",label:"Mermaid设置"})))))}const v=window.React;function Ze(e){e.preventDefault()}function et(){return v.createElement(f,{sx:{marginBottom:"5px"},role:"presentation",onClick:Ze},v.createElement(Se,{"aria-label":"breadcrumb"},v.createElement(N,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/"},v.createElement(ke,{sx:{mr:.5},fontSize:"inherit"}),"MUI"),v.createElement(N,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",href:"/material-ui/getting-started/installation/"},v.createElement(ve,{sx:{mr:.5},fontSize:"inherit"}),"Basic"),v.createElement(g,{sx:{display:"flex",alignItems:"center"},color:"text.primary"},v.createElement(we,{sx:{mr:.5},fontSize:"inherit"}),"Theme")))}let tt=W(ye)(({theme:e})=>({width:62,height:34,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,transform:"translateX(6px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>')`},"& + .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:e.palette.mode==="dark"?"#003892":"#001e3c",width:32,height:32,"&::before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="${encodeURIComponent("#fff")}" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>')`}},"& .MuiSwitch-track":{opacity:1,backgroundColor:e.palette.mode==="dark"?"#8796A5":"#aab4be",borderRadius:20/2}}));const a=window.React,at=Y(function(){const n=_(),x=J(),c={transition:"0.3s",position:"relative",padding:"5px",borderRadius:"3px",display:"flex",flexDirection:"column",mt:"10px",mb:"5px",ml:"0px",pl:"25px","&::before":{content:'""',position:"absolute",left:0,top:0,height:"100%",width:4,backgroundColor:"transparent",transition:"background-color 0.3s"},"&:hover::before":{backgroundColor:n==="light"?"#840084":"#d2d2d2"},"&:hover":{backgroundColor:n==="light"?"#E7E6E5":""}},o={color:x.palette.info.contrastText??"#8B8A8A",fontSize:"0.79rem",fontWeight:500,mb:"5px"},[p,u]=a.useState(!1);function C(s,b){const R=document.querySelector(".markdown-body");b?(j("dark"),u(s.target.checked),console.log(R.style.cssText),R.style.cssText=""):(j("light"),u(s.target.checked),console.log(R.style.cssText))}function S(s,b){b?I({basic:{syncScroll:!0}}):I({basic:{syncScroll:!1}})}function M(s){I({basic:{speechLanguage:s.target.value}})}function i(s){I({advanced:{mermaidTheme:s.target.value}}),je.init({theme:s.target.value}),We()}return a.useEffect(()=>{u(_()==="dark")},[_()]),a.createElement(a.Fragment,null,a.createElement(f,{className:"transparent-scrollbar",sx:{width:"100%",padding:"1rem",display:"flex",flexDirection:"column",fontSize:"0.89rem",maxHight:"200px",overflowY:"scroll"}},a.createElement(g,{id:"settings_1_x",sx:{fontSize:"30px",fontWeight:"700"}},"基础设置"),a.createElement(z,null),a.createElement(f,{sx:c},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Theme"),a.createElement(g,{sx:o},"更改编辑器的主题"),a.createElement(tt,{checked:p,size:"small",inputProps:{"aria-label":"controlled"},onChange:C})),a.createElement(f,{sx:c},a.createElement(f,{className:"FLEX ROW"},a.createElement(g,{id:"settings_1_2",sx:{fontSize:"0.89rem",fontWeight:500}},"Synchronous Scrolling")),a.createElement(g,{sx:o},"同步滚动左边编辑区和预览区域。(开发中)"),a.createElement(U,{checked:A().basic.syncScroll,size:"small",inputProps:{"aria-label":"controlled"},onChange:S})),a.createElement(f,{sx:c},a.createElement(g,{sx:{fontSize:"0.89rem",fontWeight:500}},"Speech To Text"),a.createElement(g,{sx:o},"选择语音转文字的识别语言"),a.createElement($,{value:A().basic.speechLanguage??"zh-CN",defaultChecked:!0,fullWidth:!0,size:"small",onChange:M},Ae.map((s,b)=>a.createElement(d,{key:b,value:s[0]},s[1])))),a.createElement(g,{id:"settings_1_x",sx:{mt:"20px",fontSize:"30px",fontWeight:"700"}},"高级设置（施工中）"),a.createElement(z,null),a.createElement(f,{sx:c},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Export Settings"),a.createElement(g,{sx:o},"更改导出设置(施工中)"),a.createElement(U,{disabled:!0,size:"small",inputProps:{"aria-label":"controlled"}})),a.createElement(f,{sx:c},a.createElement(g,{id:"settings_1_1",sx:{fontSize:"0.89rem",fontWeight:500}},"Mermaid Theme Configs"),a.createElement(g,{sx:o},"Mermaid流程图主题"),a.createElement($,{value:A().advanced.mermaidTheme??"default",defaultChecked:!0,fullWidth:!0,size:"small",color:"primary",onChange:i},$e.map((s,b)=>a.createElement(d,{key:b,value:s},Pe[b]))))))}),h=window.React;function lt(e){J().palette;const n=_();h.useRef();let[x,c]=h.useState(!1);h.useState("");let o=p=>{c(()=>!1),e.onClick(p),e.closeAll()};return h.useEffect(()=>{}),h.createElement(h.Fragment,null,h.createElement(T,{fullScreen:!1,maxWidth:!1,open:e.open,onClose:o,sx:{height:"100vh"}},h.createElement(f,{sx:{background:n==="light"?"#F8FAFB":"",padding:"1rem",height:"58vh",width:"60vw"}},h.createElement(et,null),h.createElement(z,{sx:{my:.5}}),h.createElement(f,{sx:{height:"48vh",display:"flex",background:n==="light"?"#F8FAFB":"",padding:"5px",flexDirection:"row",borderRradius:"50px",borderRadius:"5px"}},h.createElement(Ke,null),h.createElement(at,null)))),h.createElement(q,null),"设置")}const l=window.React,Xt=Y(()=>{const e=Ve(),[n,x]=l.useState(null),[c,o]=l.useState(null),[p,u]=l.useState(null),[C,S]=l.useState(null),[M,i]=l.useState(!1),s=!!n,b=!!c,R=!!p,G=!!C,K=r=>{x(r.currentTarget)},Z=r=>{o(r.currentTarget),r.stopPropagation()},ee=async r=>{await Oe()?(u(r.target),r.stopPropagation()):(r.stopPropagation(),k(),i(!0))},te=r=>{S(r.currentTarget)},k=()=>{x(null)},ae=r=>{o(null),r.stopPropagation()},le=r=>{u(null),r.stopPropagation()},ne=r=>{S(null),r.stopPropagation()},oe=()=>{e.display(),k()},re=()=>{De(!0),k()};return l.createElement("div",null,l.createElement(T,{open:M,onClose:()=>{i(!1)}},l.createElement(F,null,l.createElement(g,{variant:"h6",gutterBottom:!0},"确定导出吗，你还没有保存呢！")),l.createElement(L,null,l.createElement(O,null,l.createElement(g,{variant:"body1",gutterBottom:!0},'Once you have clicked the "yes" button, your text will be saved.'))),l.createElement(D,null,l.createElement(y,{onClick:()=>{i(!1),Fe(),Q()}},"是嘟"),l.createElement(y,{onClick:()=>{i(!1)},autoFocus:!0},"达咩"))),l.createElement(Le,{open:s,endIcon:l.createElement(Me,null),onClick:K},"更多"),l.createElement(V,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},elevation:24,anchorEl:n,open:s,onClose:k},l.createElement(d,{onClick:oe,disableRipple:!0},l.createElement(P,null),"图片管理器"),l.createElement(d,{onClick:re,disableRipple:!0},l.createElement(Re,null),"文件管理器(实验性)"),l.createElement(d,{onClick:r=>{ee(r)},disableRipple:!0},l.createElement(Qe,{anchorEl:p,open:R,closeMenu:k,closeExportMenu:le})),l.createElement(z,{sx:{my:.5}}),l.createElement(d,{onClick:r=>{Z(r)},disableRipple:!0},l.createElement(qe,{closAll:k,anchorEl:c,open:b,onClick:ae})),l.createElement(d,{onClick:r=>{te(r)},disableRipple:!0},l.createElement(lt,{closeAll:k,anchorEl:C,open:G,onClick:ne})),l.createElement(d,{onClick:()=>{k()},disableRipple:!0},l.createElement(Ie,null),"更多(敬请期待)  ")))});export{Xt as default};
