import{i as he}from"./state-local-dd516420.js";function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(r),!0).forEach(function(n){me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function be(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,c;for(c=0;c<n.length;c++)o=n[c],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Me(e,t){if(e==null)return{};var r=be(e,t),n,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ye(e,t){return Oe(e)||je(e,t)||Re(e,t)||Se()}function Oe(e){if(Array.isArray(e))return e}function je(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,c=void 0;try{for(var d=e[Symbol.iterator](),v;!(n=(v=d.next()).done)&&(r.push(v.value),!(t&&r.length===t));n=!0);}catch(M){o=!0,c=M}finally{try{!n&&d.return!=null&&d.return()}finally{if(o)throw c}}return r}}function Re(e,t){if(e){if(typeof e=="string")return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}}function re(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function Pe(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return o.length>=e.length?e.apply(this,o):function(){for(var d=arguments.length,v=new Array(d),M=0;M<d;M++)v[M]=arguments[M];return t.apply(r,[].concat(o,v))}}}function Ie(e){return{}.toString.call(e).includes("Object")}function Ce(e){return e||ne("configIsRequired"),Ie(e)||ne("configType"),e.urls?(Le(),{paths:{vs:e.urls.monacoBase}}):e}function Le(){console.warn(ue.deprecation)}function Ae(e,t){throw new Error(e[t]||e.default)}var ue={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ne=Pe(Ae)(ue),Ve={config:Ce},xe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(c,d){return d(c)},o)}};function le(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],le(e[r],t[r]))}),te(te({},e),t)}var De={type:"cancelation",msg:"operation is manually canceled"};function J(e){var t=!1,r=new Promise(function(n,o){e.then(function(c){return t?o(De):n(c)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var ze=he.create({config:Ee,isInitialized:!1,resolve:null,reject:null,monaco:null}),se=ye(ze,2),_=se[0],q=se[1];function Te(e){var t=Ve.config(e),r=t.monaco,n=Me(t,["monaco"]);q(function(o){return{config:le(o.config,n),monaco:r}})}function _e(){var e=_(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(q({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),J(Q);if(window.monaco&&window.monaco.editor)return de(window.monaco),e.resolve(window.monaco),J(Q);xe(Ne,Ue)(We)}return J(Q)}function Ne(e){return document.body.appendChild(e)}function ke(e){var t=document.createElement("script");return e&&(t.src=e),t}function Ue(e){var t=_(function(n){var o=n.config,c=n.reject;return{config:o,reject:c}}),r=ke("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function We(){var e=_(function(r){var n=r.config,o=r.resolve,c=r.reject;return{config:n,resolve:o,reject:c}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){de(r),e.resolve(r)},function(r){e.reject(r)})}function de(e){_().monaco||q({monaco:e})}function $e(){return _(function(e){var t=e.monaco;return t})}var Q=new Promise(function(e,t){return q({resolve:e,reject:t})}),fe={config:Te,init:_e,__getMonacoInstance:$e};const qe=window.React.memo,Fe=window.React,oe=window.React.useState,C=window.React.useRef,ie=window.React.useCallback,ce=window.React.useEffect,He=window.React.memo,X=window.React;var Be={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Z=Be;const Ge=window.React;var Ke={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Ye=Ke;function Je({children:e}){return Ge.createElement("div",{style:Ye.container},e)}var Qe=Je,Xe=Qe;function Ze({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:c,wrapperProps:d}){return X.createElement("section",{style:{...Z.wrapper,width:e,height:t},...d},!r&&X.createElement(Xe,null,n),X.createElement("div",{ref:o,style:{...Z.fullWidth,...!r&&Z.hide},className:c}))}var et=Ze,ge=He(et);const tt=window.React.useEffect;function rt(e){tt(e,[])}var pe=rt;const nt=window.React.useEffect,ot=window.React.useRef;function it(e,t,r=!0){let n=ot(!0);nt(n.current||!r?()=>{n.current=!1}:e,t)}var b=it;function T(){}function L(e,t,r,n){return ct(e,n)||at(e,t,r,n)}function ct(e,t){return e.editor.getModel(we(e,t))}function at(e,t,r,n){return e.editor.createModel(t,r,n?we(e,n):void 0)}function we(e,t){return e.Uri.parse(t)}function ut({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:c,modifiedModelPath:d,keepCurrentOriginalModel:v=!1,keepCurrentModifiedModel:M=!1,theme:O="light",loading:N="Loading...",options:y={},height:F="100%",width:H="100%",className:B,wrapperProps:G={},beforeMount:K=T,onMount:Y=T}){let[h,A]=oe(!1),[S,g]=oe(!0),p=C(null),f=C(null),V=C(null),w=C(Y),u=C(K),E=C(!1);pe(()=>{let i=fe.init();return i.then(l=>(f.current=l)&&g(!1)).catch(l=>(l==null?void 0:l.type)!=="cancelation"&&console.error("Monaco initialization: error:",l)),()=>p.current?x():i.cancel()}),b(()=>{if(p.current&&f.current){let i=p.current.getOriginalEditor(),l=L(f.current,e||"",n||r||"text",c||"");l!==i.getModel()&&i.setModel(l)}},[c],h),b(()=>{if(p.current&&f.current){let i=p.current.getModifiedEditor(),l=L(f.current,t||"",o||r||"text",d||"");l!==i.getModel()&&i.setModel(l)}},[d],h),b(()=>{let i=p.current.getModifiedEditor();i.getOption(f.current.editor.EditorOption.readOnly)?i.setValue(t||""):t!==i.getValue()&&(i.executeEdits("",[{range:i.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),i.pushUndoStop())},[t],h),b(()=>{var i,l;(l=(i=p.current)==null?void 0:i.getModel())==null||l.original.setValue(e||"")},[e],h),b(()=>{let{original:i,modified:l}=p.current.getModel();f.current.editor.setModelLanguage(i,n||r||"text"),f.current.editor.setModelLanguage(l,o||r||"text")},[r,n,o],h),b(()=>{var i;(i=f.current)==null||i.editor.setTheme(O)},[O],h),b(()=>{var i;(i=p.current)==null||i.updateOptions(y)},[y],h);let k=ie(()=>{var R;if(!f.current)return;u.current(f.current);let i=L(f.current,e||"",n||r||"text",c||""),l=L(f.current,t||"",o||r||"text",d||"");(R=p.current)==null||R.setModel({original:i,modified:l})},[r,t,o,e,n,c,d]),U=ie(()=>{var i;!E.current&&V.current&&(p.current=f.current.editor.createDiffEditor(V.current,{automaticLayout:!0,...y}),k(),(i=f.current)==null||i.editor.setTheme(O),A(!0),E.current=!0)},[y,O,k]);ce(()=>{h&&w.current(p.current,f.current)},[h]),ce(()=>{!S&&!h&&U()},[S,h,U]);function x(){var l,R,P,D;let i=(l=p.current)==null?void 0:l.getModel();v||((R=i==null?void 0:i.original)==null||R.dispose()),M||((P=i==null?void 0:i.modified)==null||P.dispose()),(D=p.current)==null||D.dispose()}return Fe.createElement(ge,{width:H,height:F,isEditorReady:h,loading:N,_ref:V,className:B,wrapperProps:G})}var lt=ut;qe(lt);window.React.useState;const st=window.React.memo,dt=window.React,ae=window.React.useState,W=window.React.useEffect,j=window.React.useRef,ft=window.React.useCallback,gt=window.React.useEffect,pt=window.React.useRef;function wt(e){let t=pt();return gt(()=>{t.current=e},[e]),t.current}var vt=wt,$=new Map;function ht({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:c,theme:d="light",line:v,loading:M="Loading...",options:O={},overrideServices:N={},saveViewState:y=!0,keepCurrentModel:F=!1,width:H="100%",height:B="100%",className:G,wrapperProps:K={},beforeMount:Y=T,onMount:h=T,onChange:A,onValidate:S=T}){let[g,p]=ae(!1),[f,V]=ae(!0),w=j(null),u=j(null),E=j(null),k=j(h),U=j(Y),x=j(),i=j(n),l=vt(c),R=j(!1),P=j(!1);pe(()=>{let a=fe.init();return a.then(s=>(w.current=s)&&V(!1)).catch(s=>(s==null?void 0:s.type)!=="cancelation"&&console.error("Monaco initialization: error:",s)),()=>u.current?ve():a.cancel()}),b(()=>{var s,m,z,I;let a=L(w.current,e||n||"",t||o||"",c||r||"");a!==((s=u.current)==null?void 0:s.getModel())&&(y&&$.set(l,(m=u.current)==null?void 0:m.saveViewState()),(z=u.current)==null||z.setModel(a),y&&((I=u.current)==null||I.restoreViewState($.get(c))))},[c],g),b(()=>{var a;(a=u.current)==null||a.updateOptions(O)},[O],g),b(()=>{!u.current||n===void 0||(u.current.getOption(w.current.editor.EditorOption.readOnly)?u.current.setValue(n):n!==u.current.getValue()&&(P.current=!0,u.current.executeEdits("",[{range:u.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),u.current.pushUndoStop(),P.current=!1))},[n],g),b(()=>{var s,m;let a=(s=u.current)==null?void 0:s.getModel();a&&o&&((m=w.current)==null||m.editor.setModelLanguage(a,o))},[o],g),b(()=>{var a;v!==void 0&&((a=u.current)==null||a.revealLine(v))},[v],g),b(()=>{var a;(a=w.current)==null||a.editor.setTheme(d)},[d],g);let D=ft(()=>{var a;if(!(!E.current||!w.current)&&!R.current){U.current(w.current);let s=c||r,m=L(w.current,n||e||"",t||o||"",s||"");u.current=(a=w.current)==null?void 0:a.editor.create(E.current,{model:m,automaticLayout:!0,...O},N),y&&u.current.restoreViewState($.get(s)),w.current.editor.setTheme(d),v!==void 0&&u.current.revealLine(v),p(!0),R.current=!0}},[e,t,r,n,o,c,O,N,y,d,v]);W(()=>{g&&k.current(u.current,w.current)},[g]),W(()=>{!f&&!g&&D()},[f,g,D]),i.current=n,W(()=>{var a,s;g&&A&&((a=x.current)==null||a.dispose(),x.current=(s=u.current)==null?void 0:s.onDidChangeModelContent(m=>{P.current||A(u.current.getValue(),m)}))},[g,A]),W(()=>{if(g){let a=w.current.editor.onDidChangeMarkers(s=>{var z;let m=(z=u.current.getModel())==null?void 0:z.uri;if(m&&s.find(I=>I.path===m.path)){let I=w.current.editor.getModelMarkers({resource:m});S==null||S(I)}});return()=>{a==null||a.dispose()}}return()=>{}},[g,S]);function ve(){var a,s;(a=x.current)==null||a.dispose(),F?y&&$.set(c,u.current.saveViewState()):(s=u.current.getModel())==null||s.dispose(),u.current.dispose()}return dt.createElement(ge,{width:H,height:B,isEditorReady:g,loading:M,_ref:E,className:G,wrapperProps:K})}var mt=ht,bt=st(mt),yt=bt;export{yt as F,fe as l};
